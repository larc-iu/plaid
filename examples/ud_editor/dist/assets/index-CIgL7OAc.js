var Wd=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Ey=Wd(($y,js)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Vd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var fu={exports:{}},Ys={},hu={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dr=Symbol.for("react.element"),qd=Symbol.for("react.portal"),Gd=Symbol.for("react.fragment"),Jd=Symbol.for("react.strict_mode"),Qd=Symbol.for("react.profiler"),Kd=Symbol.for("react.provider"),Yd=Symbol.for("react.context"),Xd=Symbol.for("react.forward_ref"),Zd=Symbol.for("react.suspense"),ef=Symbol.for("react.memo"),tf=Symbol.for("react.lazy"),Gi=Symbol.iterator;function nf(e){return e===null||typeof e!="object"?null:(e=Gi&&e[Gi]||e["@@iterator"],typeof e=="function"?e:null)}var pu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mu=Object.assign,yu={};function Wn(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||pu}Wn.prototype.isReactComponent={};Wn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Wn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function gu(){}gu.prototype=Wn.prototype;function Ha(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||pu}var Wa=Ha.prototype=new gu;Wa.constructor=Ha;mu(Wa,Wn.prototype);Wa.isPureReactComponent=!0;var Ji=Array.isArray,xu=Object.prototype.hasOwnProperty,Va={current:null},vu={key:!0,ref:!0,__self:!0,__source:!0};function wu(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)xu.call(t,r)&&!vu.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Dr,type:e,key:o,ref:i,props:s,_owner:Va.current}}function rf(e,t){return{$$typeof:Dr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function qa(e){return typeof e=="object"&&e!==null&&e.$$typeof===Dr}function sf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Qi=/\/+/g;function vo(e,t){return typeof e=="object"&&e!==null&&e.key!=null?sf(""+e.key):t.toString(36)}function ds(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Dr:case qd:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+vo(i,0):r,Ji(s)?(n="",e!=null&&(n=e.replace(Qi,"$&/")+"/"),ds(s,t,n,"",function(u){return u})):s!=null&&(qa(s)&&(s=rf(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(Qi,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",Ji(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+vo(o,a);i+=ds(o,t,n,l,s)}else if(l=nf(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+vo(o,a++),i+=ds(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function qr(e,t,n){if(e==null)return e;var r=[],s=0;return ds(e,r,"","",function(o){return t.call(n,o,s++)}),r}function of(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Le={current:null},fs={transition:null},af={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:fs,ReactCurrentOwner:Va};function Tu(){throw Error("act(...) is not supported in production builds of React.")}Y.Children={map:qr,forEach:function(e,t,n){qr(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return qr(e,function(){t++}),t},toArray:function(e){return qr(e,function(t){return t})||[]},only:function(e){if(!qa(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Y.Component=Wn;Y.Fragment=Gd;Y.Profiler=Qd;Y.PureComponent=Ha;Y.StrictMode=Jd;Y.Suspense=Zd;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=af;Y.act=Tu;Y.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=mu({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=Va.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)xu.call(t,l)&&!vu.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Dr,type:e.type,key:s,ref:o,props:r,_owner:i}};Y.createContext=function(e){return e={$$typeof:Yd,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Kd,_context:e},e.Consumer=e};Y.createElement=wu;Y.createFactory=function(e){var t=wu.bind(null,e);return t.type=e,t};Y.createRef=function(){return{current:null}};Y.forwardRef=function(e){return{$$typeof:Xd,render:e}};Y.isValidElement=qa;Y.lazy=function(e){return{$$typeof:tf,_payload:{_status:-1,_result:e},_init:of}};Y.memo=function(e,t){return{$$typeof:ef,type:e,compare:t===void 0?null:t}};Y.startTransition=function(e){var t=fs.transition;fs.transition={};try{e()}finally{fs.transition=t}};Y.unstable_act=Tu;Y.useCallback=function(e,t){return Le.current.useCallback(e,t)};Y.useContext=function(e){return Le.current.useContext(e)};Y.useDebugValue=function(){};Y.useDeferredValue=function(e){return Le.current.useDeferredValue(e)};Y.useEffect=function(e,t){return Le.current.useEffect(e,t)};Y.useId=function(){return Le.current.useId()};Y.useImperativeHandle=function(e,t,n){return Le.current.useImperativeHandle(e,t,n)};Y.useInsertionEffect=function(e,t){return Le.current.useInsertionEffect(e,t)};Y.useLayoutEffect=function(e,t){return Le.current.useLayoutEffect(e,t)};Y.useMemo=function(e,t){return Le.current.useMemo(e,t)};Y.useReducer=function(e,t,n){return Le.current.useReducer(e,t,n)};Y.useRef=function(e){return Le.current.useRef(e)};Y.useState=function(e){return Le.current.useState(e)};Y.useSyncExternalStore=function(e,t,n){return Le.current.useSyncExternalStore(e,t,n)};Y.useTransition=function(){return Le.current.useTransition()};Y.version="18.3.1";hu.exports=Y;var v=hu.exports;const Xs=Vd(v);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lf=v,uf=Symbol.for("react.element"),cf=Symbol.for("react.fragment"),df=Object.prototype.hasOwnProperty,ff=lf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hf={key:!0,ref:!0,__self:!0,__source:!0};function ku(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)df.call(t,r)&&!hf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:uf,type:e,key:o,ref:i,props:s,_owner:ff.current}}Ys.Fragment=cf;Ys.jsx=ku;Ys.jsxs=ku;fu.exports=Ys;var m=fu.exports,Su={exports:{}},qe={},Eu={exports:{}},ju={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,b){var C=E.length;E.push(b);e:for(;0<C;){var B=C-1>>>1,U=E[B];if(0<s(U,b))E[B]=b,E[C]=U,C=B;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var b=E[0],C=E.pop();if(C!==b){E[0]=C;e:for(var B=0,U=E.length,H=U>>>1;B<H;){var M=2*(B+1)-1,A=E[M],O=M+1,G=E[O];if(0>s(A,C))O<U&&0>s(G,A)?(E[B]=G,E[O]=C,B=O):(E[B]=A,E[M]=C,B=M);else if(O<U&&0>s(G,C))E[B]=G,E[O]=C,B=O;else break e}}return b}function s(E,b){var C=E.sortIndex-b.sortIndex;return C!==0?C:E.id-b.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,w=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(E){for(var b=n(u);b!==null;){if(b.callback===null)r(u);else if(b.startTime<=E)r(u),b.sortIndex=b.expirationTime,t(l,b);else break;b=n(u)}}function T(E){if(x=!1,y(E),!w)if(n(l)!==null)w=!0,_e(j);else{var b=n(u);b!==null&&Ae(T,b.startTime-E)}}function j(E,b){w=!1,x&&(x=!1,p(_),_=-1),g=!0;var C=f;try{for(y(b),d=n(l);d!==null&&(!(d.expirationTime>b)||E&&!W());){var B=d.callback;if(typeof B=="function"){d.callback=null,f=d.priorityLevel;var U=B(d.expirationTime<=b);b=e.unstable_now(),typeof U=="function"?d.callback=U:d===n(l)&&r(l),y(b)}else r(l);d=n(l)}if(d!==null)var H=!0;else{var M=n(u);M!==null&&Ae(T,M.startTime-b),H=!1}return H}finally{d=null,f=C,g=!1}}var P=!1,$=null,_=-1,D=5,R=-1;function W(){return!(e.unstable_now()-R<D)}function fe(){if($!==null){var E=e.unstable_now();R=E;var b=!0;try{b=$(!0,E)}finally{b?Z():(P=!1,$=null)}}else P=!1}var Z;if(typeof h=="function")Z=function(){h(fe)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,ve=Pe.port2;Pe.port1.onmessage=fe,Z=function(){ve.postMessage(null)}}else Z=function(){k(fe,0)};function _e(E){$=E,P||(P=!0,Z())}function Ae(E,b){_=k(function(){E(e.unstable_now())},b)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,_e(j))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(E){switch(f){case 1:case 2:case 3:var b=3;break;default:b=f}var C=f;f=b;try{return E()}finally{f=C}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,b){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var C=f;f=E;try{return b()}finally{f=C}},e.unstable_scheduleCallback=function(E,b,C){var B=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?B+C:B):C=B,E){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=C+U,E={id:c++,callback:b,priorityLevel:E,startTime:C,expirationTime:U,sortIndex:-1},C>B?(E.sortIndex=C,t(u,E),n(l)===null&&E===n(u)&&(x?(p(_),_=-1):x=!0,Ae(T,C-B))):(E.sortIndex=U,t(l,E),w||g||(w=!0,_e(j))),E},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(E){var b=f;return function(){var C=f;f=b;try{return E.apply(this,arguments)}finally{f=C}}}})(ju);Eu.exports=ju;var pf=Eu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mf=v,Ve=pf;function L(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $u=new Set,vr={};function pn(e,t){Dn(e,t),Dn(e+"Capture",t)}function Dn(e,t){for(vr[e]=t,e=0;e<t.length;e++)$u.add(t[e])}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=Object.prototype.hasOwnProperty,yf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ki={},Yi={};function gf(e){return Jo.call(Yi,e)?!0:Jo.call(Ki,e)?!1:yf.test(e)?Yi[e]=!0:(Ki[e]=!0,!1)}function xf(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vf(e,t,n,r){if(t===null||typeof t>"u"||xf(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var Ee={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ee[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ee[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ee[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ee[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ee[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ee[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ee[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ee[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ee[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ga=/[\-:]([a-z])/g;function Ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ga,Ja);Ee[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ga,Ja);Ee[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ga,Ja);Ee[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ee[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});Ee.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ee[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qa(e,t,n,r){var s=Ee.hasOwnProperty(t)?Ee[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vf(t,n,s,r)&&(n=null),r||s===null?gf(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lt=mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Gr=Symbol.for("react.element"),vn=Symbol.for("react.portal"),wn=Symbol.for("react.fragment"),Ka=Symbol.for("react.strict_mode"),Qo=Symbol.for("react.profiler"),bu=Symbol.for("react.provider"),Cu=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Ko=Symbol.for("react.suspense"),Yo=Symbol.for("react.suspense_list"),Xa=Symbol.for("react.memo"),Bt=Symbol.for("react.lazy"),Pu=Symbol.for("react.offscreen"),Xi=Symbol.iterator;function Kn(e){return e===null||typeof e!="object"?null:(e=Xi&&e[Xi]||e["@@iterator"],typeof e=="function"?e:null)}var de=Object.assign,wo;function ar(e){if(wo===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);wo=t&&t[1]||""}return`
`+wo+e}var To=!1;function ko(e,t){if(!e||To)return"";To=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{To=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ar(e):""}function wf(e){switch(e.tag){case 5:return ar(e.type);case 16:return ar("Lazy");case 13:return ar("Suspense");case 19:return ar("SuspenseList");case 0:case 2:case 15:return e=ko(e.type,!1),e;case 11:return e=ko(e.type.render,!1),e;case 1:return e=ko(e.type,!0),e;default:return""}}function Xo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wn:return"Fragment";case vn:return"Portal";case Qo:return"Profiler";case Ka:return"StrictMode";case Ko:return"Suspense";case Yo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cu:return(e.displayName||"Context")+".Consumer";case bu:return(e._context.displayName||"Context")+".Provider";case Ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xa:return t=e.displayName||null,t!==null?t:Xo(e.type)||"Memo";case Bt:t=e._payload,e=e._init;try{return Xo(e(t))}catch{}}return null}function Tf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xo(t);case 8:return t===Ka?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Qt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _u(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function kf(e){var t=_u(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jr(e){e._valueTracker||(e._valueTracker=kf(e))}function Ou(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=_u(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function $s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Zo(e,t){var n=t.checked;return de({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Zi(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Qt(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Nu(e,t){t=t.checked,t!=null&&Qa(e,"checked",t,!1)}function ea(e,t){Nu(e,t);var n=Qt(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ta(e,t.type,n):t.hasOwnProperty("defaultValue")&&ta(e,t.type,Qt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function el(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ta(e,t,n){(t!=="number"||$s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ir=Array.isArray;function On(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Qt(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function na(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(L(91));return de({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function tl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(L(92));if(ir(n)){if(1<n.length)throw Error(L(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Qt(n)}}function Lu(e,t){var n=Qt(t.value),r=Qt(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ru(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ra(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ru(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qr,Bu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qr=Qr||document.createElement("div"),Qr.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function wr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sf=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){Sf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),cr[t]=cr[e]})});function Uu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||cr.hasOwnProperty(e)&&cr[e]?(""+t).trim():t+"px"}function Du(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Uu(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Ef=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(e,t){if(t){if(Ef[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(L(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(L(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(L(61))}if(t.style!=null&&typeof t.style!="object")throw Error(L(62))}}function oa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var aa=null;function Za(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ia=null,Nn=null,Ln=null;function rl(e){if(e=Ar(e)){if(typeof ia!="function")throw Error(L(280));var t=e.stateNode;t&&(t=ro(t),ia(e.stateNode,e.type,t))}}function zu(e){Nn?Ln?Ln.push(e):Ln=[e]:Nn=e}function Mu(){if(Nn){var e=Nn,t=Ln;if(Ln=Nn=null,rl(e),t)for(e=0;e<t.length;e++)rl(t[e])}}function Au(e,t){return e(t)}function Fu(){}var So=!1;function Iu(e,t,n){if(So)return e(t,n);So=!0;try{return Au(e,t,n)}finally{So=!1,(Nn!==null||Ln!==null)&&(Fu(),Mu())}}function Tr(e,t){var n=e.stateNode;if(n===null)return null;var r=ro(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(L(231,t,typeof n));return n}var la=!1;if(Ct)try{var Yn={};Object.defineProperty(Yn,"passive",{get:function(){la=!0}}),window.addEventListener("test",Yn,Yn),window.removeEventListener("test",Yn,Yn)}catch{la=!1}function jf(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var dr=!1,bs=null,Cs=!1,ua=null,$f={onError:function(e){dr=!0,bs=e}};function bf(e,t,n,r,s,o,i,a,l){dr=!1,bs=null,jf.apply($f,arguments)}function Cf(e,t,n,r,s,o,i,a,l){if(bf.apply(this,arguments),dr){if(dr){var u=bs;dr=!1,bs=null}else throw Error(L(198));Cs||(Cs=!0,ua=u)}}function mn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Hu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function sl(e){if(mn(e)!==e)throw Error(L(188))}function Pf(e){var t=e.alternate;if(!t){if(t=mn(e),t===null)throw Error(L(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return sl(s),e;if(o===r)return sl(s),t;o=o.sibling}throw Error(L(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(L(189))}}if(n.alternate!==r)throw Error(L(190))}if(n.tag!==3)throw Error(L(188));return n.stateNode.current===n?e:t}function Wu(e){return e=Pf(e),e!==null?Vu(e):null}function Vu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Vu(e);if(t!==null)return t;e=e.sibling}return null}var qu=Ve.unstable_scheduleCallback,ol=Ve.unstable_cancelCallback,_f=Ve.unstable_shouldYield,Of=Ve.unstable_requestPaint,me=Ve.unstable_now,Nf=Ve.unstable_getCurrentPriorityLevel,ei=Ve.unstable_ImmediatePriority,Gu=Ve.unstable_UserBlockingPriority,Ps=Ve.unstable_NormalPriority,Lf=Ve.unstable_LowPriority,Ju=Ve.unstable_IdlePriority,Zs=null,gt=null;function Rf(e){if(gt&&typeof gt.onCommitFiberRoot=="function")try{gt.onCommitFiberRoot(Zs,e,void 0,(e.current.flags&128)===128)}catch{}}var at=Math.clz32?Math.clz32:Df,Bf=Math.log,Uf=Math.LN2;function Df(e){return e>>>=0,e===0?32:31-(Bf(e)/Uf|0)|0}var Kr=64,Yr=4194304;function lr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _s(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=lr(a):(o&=i,o!==0&&(r=lr(o)))}else i=n&~s,i!==0?r=lr(i):o!==0&&(r=lr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-at(t),s=1<<n,r|=e[n],t&=~s;return r}function zf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mf(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-at(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=zf(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ca(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Qu(){var e=Kr;return Kr<<=1,!(Kr&4194240)&&(Kr=64),e}function Eo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-at(t),e[t]=n}function Af(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-at(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function ti(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ne=0;function Ku(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Yu,ni,Xu,Zu,ec,da=!1,Xr=[],Ft=null,It=null,Ht=null,kr=new Map,Sr=new Map,Dt=[],Ff="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function al(e,t){switch(e){case"focusin":case"focusout":Ft=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Ht=null;break;case"pointerover":case"pointerout":kr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sr.delete(t.pointerId)}}function Xn(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=Ar(t),t!==null&&ni(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function If(e,t,n,r,s){switch(t){case"focusin":return Ft=Xn(Ft,e,t,n,r,s),!0;case"dragenter":return It=Xn(It,e,t,n,r,s),!0;case"mouseover":return Ht=Xn(Ht,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return kr.set(o,Xn(kr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Sr.set(o,Xn(Sr.get(o)||null,e,t,n,r,s)),!0}return!1}function tc(e){var t=rn(e.target);if(t!==null){var n=mn(t);if(n!==null){if(t=n.tag,t===13){if(t=Hu(n),t!==null){e.blockedOn=t,ec(e.priority,function(){Xu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);aa=r,n.target.dispatchEvent(r),aa=null}else return t=Ar(n),t!==null&&ni(t),e.blockedOn=n,!1;t.shift()}return!0}function il(e,t,n){hs(e)&&n.delete(t)}function Hf(){da=!1,Ft!==null&&hs(Ft)&&(Ft=null),It!==null&&hs(It)&&(It=null),Ht!==null&&hs(Ht)&&(Ht=null),kr.forEach(il),Sr.forEach(il)}function Zn(e,t){e.blockedOn===t&&(e.blockedOn=null,da||(da=!0,Ve.unstable_scheduleCallback(Ve.unstable_NormalPriority,Hf)))}function Er(e){function t(s){return Zn(s,e)}if(0<Xr.length){Zn(Xr[0],e);for(var n=1;n<Xr.length;n++){var r=Xr[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Ft!==null&&Zn(Ft,e),It!==null&&Zn(It,e),Ht!==null&&Zn(Ht,e),kr.forEach(t),Sr.forEach(t),n=0;n<Dt.length;n++)r=Dt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&(n=Dt[0],n.blockedOn===null);)tc(n),n.blockedOn===null&&Dt.shift()}var Rn=Lt.ReactCurrentBatchConfig,Os=!0;function Wf(e,t,n,r){var s=ne,o=Rn.transition;Rn.transition=null;try{ne=1,ri(e,t,n,r)}finally{ne=s,Rn.transition=o}}function Vf(e,t,n,r){var s=ne,o=Rn.transition;Rn.transition=null;try{ne=4,ri(e,t,n,r)}finally{ne=s,Rn.transition=o}}function ri(e,t,n,r){if(Os){var s=fa(e,t,n,r);if(s===null)Ro(e,t,r,Ns,n),al(e,r);else if(If(s,e,t,n,r))r.stopPropagation();else if(al(e,r),t&4&&-1<Ff.indexOf(e)){for(;s!==null;){var o=Ar(s);if(o!==null&&Yu(o),o=fa(e,t,n,r),o===null&&Ro(e,t,r,Ns,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ro(e,t,r,null,n)}}var Ns=null;function fa(e,t,n,r){if(Ns=null,e=Za(r),e=rn(e),e!==null)if(t=mn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Hu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ns=e,null}function nc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Nf()){case ei:return 1;case Gu:return 4;case Ps:case Lf:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var Mt=null,si=null,ps=null;function rc(){if(ps)return ps;var e,t=si,n=t.length,r,s="value"in Mt?Mt.value:Mt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return ps=s.slice(e,1<r?1-r:void 0)}function ms(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function ll(){return!1}function Ge(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Zr:ll,this.isPropagationStopped=ll,this}return de(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),t}var Vn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oi=Ge(Vn),Mr=de({},Vn,{view:0,detail:0}),qf=Ge(Mr),jo,$o,er,eo=de({},Mr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ai,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==er&&(er&&e.type==="mousemove"?(jo=e.screenX-er.screenX,$o=e.screenY-er.screenY):$o=jo=0,er=e),jo)},movementY:function(e){return"movementY"in e?e.movementY:$o}}),ul=Ge(eo),Gf=de({},eo,{dataTransfer:0}),Jf=Ge(Gf),Qf=de({},Mr,{relatedTarget:0}),bo=Ge(Qf),Kf=de({},Vn,{animationName:0,elapsedTime:0,pseudoElement:0}),Yf=Ge(Kf),Xf=de({},Vn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Zf=Ge(Xf),eh=de({},Vn,{data:0}),cl=Ge(eh),th={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sh(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=rh[e])?!!t[e]:!1}function ai(){return sh}var oh=de({},Mr,{key:function(e){if(e.key){var t=th[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ms(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?nh[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ai,charCode:function(e){return e.type==="keypress"?ms(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ms(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ah=Ge(oh),ih=de({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dl=Ge(ih),lh=de({},Mr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ai}),uh=Ge(lh),ch=de({},Vn,{propertyName:0,elapsedTime:0,pseudoElement:0}),dh=Ge(ch),fh=de({},eo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hh=Ge(fh),ph=[9,13,27,32],ii=Ct&&"CompositionEvent"in window,fr=null;Ct&&"documentMode"in document&&(fr=document.documentMode);var mh=Ct&&"TextEvent"in window&&!fr,sc=Ct&&(!ii||fr&&8<fr&&11>=fr),fl=" ",hl=!1;function oc(e,t){switch(e){case"keyup":return ph.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ac(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Tn=!1;function yh(e,t){switch(e){case"compositionend":return ac(t);case"keypress":return t.which!==32?null:(hl=!0,fl);case"textInput":return e=t.data,e===fl&&hl?null:e;default:return null}}function gh(e,t){if(Tn)return e==="compositionend"||!ii&&oc(e,t)?(e=rc(),ps=si=Mt=null,Tn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sc&&t.locale!=="ko"?null:t.data;default:return null}}var xh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!xh[e.type]:t==="textarea"}function ic(e,t,n,r){zu(r),t=Ls(t,"onChange"),0<t.length&&(n=new oi("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var hr=null,jr=null;function vh(e){xc(e,0)}function to(e){var t=En(e);if(Ou(t))return e}function wh(e,t){if(e==="change")return t}var lc=!1;if(Ct){var Co;if(Ct){var Po="oninput"in document;if(!Po){var ml=document.createElement("div");ml.setAttribute("oninput","return;"),Po=typeof ml.oninput=="function"}Co=Po}else Co=!1;lc=Co&&(!document.documentMode||9<document.documentMode)}function yl(){hr&&(hr.detachEvent("onpropertychange",uc),jr=hr=null)}function uc(e){if(e.propertyName==="value"&&to(jr)){var t=[];ic(t,jr,e,Za(e)),Iu(vh,t)}}function Th(e,t,n){e==="focusin"?(yl(),hr=t,jr=n,hr.attachEvent("onpropertychange",uc)):e==="focusout"&&yl()}function kh(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return to(jr)}function Sh(e,t){if(e==="click")return to(t)}function Eh(e,t){if(e==="input"||e==="change")return to(t)}function jh(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var lt=typeof Object.is=="function"?Object.is:jh;function $r(e,t){if(lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jo.call(t,s)||!lt(e[s],t[s]))return!1}return!0}function gl(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xl(e,t){var n=gl(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gl(n)}}function cc(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?cc(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function dc(){for(var e=window,t=$s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=$s(e.document)}return t}function li(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $h(e){var t=dc(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cc(n.ownerDocument.documentElement,n)){if(r!==null&&li(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=xl(n,o);var i=xl(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var bh=Ct&&"documentMode"in document&&11>=document.documentMode,kn=null,ha=null,pr=null,pa=!1;function vl(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;pa||kn==null||kn!==$s(r)||(r=kn,"selectionStart"in r&&li(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pr&&$r(pr,r)||(pr=r,r=Ls(ha,"onSelect"),0<r.length&&(t=new oi("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=kn)))}function es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sn={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionend:es("Transition","TransitionEnd")},_o={},fc={};Ct&&(fc=document.createElement("div").style,"AnimationEvent"in window||(delete Sn.animationend.animation,delete Sn.animationiteration.animation,delete Sn.animationstart.animation),"TransitionEvent"in window||delete Sn.transitionend.transition);function no(e){if(_o[e])return _o[e];if(!Sn[e])return e;var t=Sn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in fc)return _o[e]=t[n];return e}var hc=no("animationend"),pc=no("animationiteration"),mc=no("animationstart"),yc=no("transitionend"),gc=new Map,wl="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yt(e,t){gc.set(e,t),pn(t,[e])}for(var Oo=0;Oo<wl.length;Oo++){var No=wl[Oo],Ch=No.toLowerCase(),Ph=No[0].toUpperCase()+No.slice(1);Yt(Ch,"on"+Ph)}Yt(hc,"onAnimationEnd");Yt(pc,"onAnimationIteration");Yt(mc,"onAnimationStart");Yt("dblclick","onDoubleClick");Yt("focusin","onFocus");Yt("focusout","onBlur");Yt(yc,"onTransitionEnd");Dn("onMouseEnter",["mouseout","mouseover"]);Dn("onMouseLeave",["mouseout","mouseover"]);Dn("onPointerEnter",["pointerout","pointerover"]);Dn("onPointerLeave",["pointerout","pointerover"]);pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pn("onBeforeInput",["compositionend","keypress","textInput","paste"]);pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ur="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_h=new Set("cancel close invalid load scroll toggle".split(" ").concat(ur));function Tl(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Cf(r,t,void 0,e),e.currentTarget=null}function xc(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Tl(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Tl(s,a,u),o=l}}}if(Cs)throw e=ua,Cs=!1,ua=null,e}function oe(e,t){var n=t[va];n===void 0&&(n=t[va]=new Set);var r=e+"__bubble";n.has(r)||(vc(t,e,2,!1),n.add(r))}function Lo(e,t,n){var r=0;t&&(r|=4),vc(n,e,r,t)}var ts="_reactListening"+Math.random().toString(36).slice(2);function br(e){if(!e[ts]){e[ts]=!0,$u.forEach(function(n){n!=="selectionchange"&&(_h.has(n)||Lo(n,!1,e),Lo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ts]||(t[ts]=!0,Lo("selectionchange",!1,t))}}function vc(e,t,n,r){switch(nc(t)){case 1:var s=Wf;break;case 4:s=Vf;break;default:s=ri}n=s.bind(null,t,n,e),s=void 0,!la||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ro(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=rn(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Iu(function(){var u=o,c=Za(n),d=[];e:{var f=gc.get(e);if(f!==void 0){var g=oi,w=e;switch(e){case"keypress":if(ms(n)===0)break e;case"keydown":case"keyup":g=ah;break;case"focusin":w="focus",g=bo;break;case"focusout":w="blur",g=bo;break;case"beforeblur":case"afterblur":g=bo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=ul;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Jf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=uh;break;case hc:case pc:case mc:g=Yf;break;case yc:g=dh;break;case"scroll":g=qf;break;case"wheel":g=hh;break;case"copy":case"cut":case"paste":g=Zf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=dl}var x=(t&4)!==0,k=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var h=u,y;h!==null;){y=h;var T=y.stateNode;if(y.tag===5&&T!==null&&(y=T,p!==null&&(T=Tr(h,p),T!=null&&x.push(Cr(h,T,y)))),k)break;h=h.return}0<x.length&&(f=new g(f,w,null,n,c),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&n!==aa&&(w=n.relatedTarget||n.fromElement)&&(rn(w)||w[Pt]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=u,w=w?rn(w):null,w!==null&&(k=mn(w),w!==k||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(x=ul,T="onMouseLeave",p="onMouseEnter",h="mouse",(e==="pointerout"||e==="pointerover")&&(x=dl,T="onPointerLeave",p="onPointerEnter",h="pointer"),k=g==null?f:En(g),y=w==null?f:En(w),f=new x(T,h+"leave",g,n,c),f.target=k,f.relatedTarget=y,T=null,rn(c)===u&&(x=new x(p,h+"enter",w,n,c),x.target=y,x.relatedTarget=k,T=x),k=T,g&&w)t:{for(x=g,p=w,h=0,y=x;y;y=gn(y))h++;for(y=0,T=p;T;T=gn(T))y++;for(;0<h-y;)x=gn(x),h--;for(;0<y-h;)p=gn(p),y--;for(;h--;){if(x===p||p!==null&&x===p.alternate)break t;x=gn(x),p=gn(p)}x=null}else x=null;g!==null&&kl(d,f,g,x,!1),w!==null&&k!==null&&kl(d,k,w,x,!0)}}e:{if(f=u?En(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var j=wh;else if(pl(f))if(lc)j=Eh;else{j=kh;var P=Th}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Sh);if(j&&(j=j(e,u))){ic(d,j,n,c);break e}P&&P(e,f,u),e==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&ta(f,"number",f.value)}switch(P=u?En(u):window,e){case"focusin":(pl(P)||P.contentEditable==="true")&&(kn=P,ha=u,pr=null);break;case"focusout":pr=ha=kn=null;break;case"mousedown":pa=!0;break;case"contextmenu":case"mouseup":case"dragend":pa=!1,vl(d,n,c);break;case"selectionchange":if(bh)break;case"keydown":case"keyup":vl(d,n,c)}var $;if(ii)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Tn?oc(e,n)&&(_="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(sc&&n.locale!=="ko"&&(Tn||_!=="onCompositionStart"?_==="onCompositionEnd"&&Tn&&($=rc()):(Mt=c,si="value"in Mt?Mt.value:Mt.textContent,Tn=!0)),P=Ls(u,_),0<P.length&&(_=new cl(_,e,null,n,c),d.push({event:_,listeners:P}),$?_.data=$:($=ac(n),$!==null&&(_.data=$)))),($=mh?yh(e,n):gh(e,n))&&(u=Ls(u,"onBeforeInput"),0<u.length&&(c=new cl("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=$))}xc(d,t)})}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ls(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Tr(e,n),o!=null&&r.unshift(Cr(e,o,s)),o=Tr(e,t),o!=null&&r.push(Cr(e,o,s))),e=e.return}return r}function gn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kl(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Tr(n,o),l!=null&&i.unshift(Cr(n,l,a))):s||(l=Tr(n,o),l!=null&&i.push(Cr(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var Oh=/\r\n?/g,Nh=/\u0000|\uFFFD/g;function Sl(e){return(typeof e=="string"?e:""+e).replace(Oh,`
`).replace(Nh,"")}function ns(e,t,n){if(t=Sl(t),Sl(e)!==t&&n)throw Error(L(425))}function Rs(){}var ma=null,ya=null;function ga(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Lh=typeof clearTimeout=="function"?clearTimeout:void 0,El=typeof Promise=="function"?Promise:void 0,Rh=typeof queueMicrotask=="function"?queueMicrotask:typeof El<"u"?function(e){return El.resolve(null).then(e).catch(Bh)}:xa;function Bh(e){setTimeout(function(){throw e})}function Bo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Er(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Er(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jl(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),mt="__reactFiber$"+qn,Pr="__reactProps$"+qn,Pt="__reactContainer$"+qn,va="__reactEvents$"+qn,Uh="__reactListeners$"+qn,Dh="__reactHandles$"+qn;function rn(e){var t=e[mt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pt]||n[mt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jl(e);e!==null;){if(n=e[mt])return n;e=jl(e)}return t}e=n,n=e.parentNode}return null}function Ar(e){return e=e[mt]||e[Pt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function En(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(L(33))}function ro(e){return e[Pr]||null}var wa=[],jn=-1;function Xt(e){return{current:e}}function ae(e){0>jn||(e.current=wa[jn],wa[jn]=null,jn--)}function se(e,t){jn++,wa[jn]=e.current,e.current=t}var Kt={},Ce=Xt(Kt),De=Xt(!1),un=Kt;function zn(e,t){var n=e.type.contextTypes;if(!n)return Kt;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ze(e){return e=e.childContextTypes,e!=null}function Bs(){ae(De),ae(Ce)}function $l(e,t,n){if(Ce.current!==Kt)throw Error(L(168));se(Ce,t),se(De,n)}function wc(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(L(108,Tf(e)||"Unknown",s));return de({},n,r)}function Us(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Kt,un=Ce.current,se(Ce,e),se(De,De.current),!0}function bl(e,t,n){var r=e.stateNode;if(!r)throw Error(L(169));n?(e=wc(e,t,un),r.__reactInternalMemoizedMergedChildContext=e,ae(De),ae(Ce),se(Ce,e)):ae(De),se(De,n)}var St=null,so=!1,Uo=!1;function Tc(e){St===null?St=[e]:St.push(e)}function zh(e){so=!0,Tc(e)}function Zt(){if(!Uo&&St!==null){Uo=!0;var e=0,t=ne;try{var n=St;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}St=null,so=!1}catch(s){throw St!==null&&(St=St.slice(e+1)),qu(ei,Zt),s}finally{ne=t,Uo=!1}}return null}var $n=[],bn=0,Ds=null,zs=0,Je=[],Qe=0,cn=null,Et=1,jt="";function tn(e,t){$n[bn++]=zs,$n[bn++]=Ds,Ds=e,zs=t}function kc(e,t,n){Je[Qe++]=Et,Je[Qe++]=jt,Je[Qe++]=cn,cn=e;var r=Et;e=jt;var s=32-at(r)-1;r&=~(1<<s),n+=1;var o=32-at(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Et=1<<32-at(t)+s|n<<s|r,jt=o+e}else Et=1<<o|n<<s|r,jt=e}function ui(e){e.return!==null&&(tn(e,1),kc(e,1,0))}function ci(e){for(;e===Ds;)Ds=$n[--bn],$n[bn]=null,zs=$n[--bn],$n[bn]=null;for(;e===cn;)cn=Je[--Qe],Je[Qe]=null,jt=Je[--Qe],Je[Qe]=null,Et=Je[--Qe],Je[Qe]=null}var We=null,He=null,ie=!1,ot=null;function Sc(e,t){var n=Ke(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cl(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,We=e,He=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,We=e,He=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=cn!==null?{id:Et,overflow:jt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ke(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,We=e,He=null,!0):!1;default:return!1}}function Ta(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(ie){var t=He;if(t){var n=t;if(!Cl(e,t)){if(Ta(e))throw Error(L(418));t=Wt(n.nextSibling);var r=We;t&&Cl(e,t)?Sc(r,n):(e.flags=e.flags&-4097|2,ie=!1,We=e)}}else{if(Ta(e))throw Error(L(418));e.flags=e.flags&-4097|2,ie=!1,We=e}}}function Pl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;We=e}function rs(e){if(e!==We)return!1;if(!ie)return Pl(e),ie=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!ga(e.type,e.memoizedProps)),t&&(t=He)){if(Ta(e))throw Ec(),Error(L(418));for(;t;)Sc(e,t),t=Wt(t.nextSibling)}if(Pl(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(L(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){He=Wt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}He=null}}else He=We?Wt(e.stateNode.nextSibling):null;return!0}function Ec(){for(var e=He;e;)e=Wt(e.nextSibling)}function Mn(){He=We=null,ie=!1}function di(e){ot===null?ot=[e]:ot.push(e)}var Mh=Lt.ReactCurrentBatchConfig;function tr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(L(309));var r=n.stateNode}if(!r)throw Error(L(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(L(284));if(!n._owner)throw Error(L(290,e))}return e}function ss(e,t){throw e=Object.prototype.toString.call(t),Error(L(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _l(e){var t=e._init;return t(e._payload)}function jc(e){function t(p,h){if(e){var y=p.deletions;y===null?(p.deletions=[h],p.flags|=16):y.push(h)}}function n(p,h){if(!e)return null;for(;h!==null;)t(p,h),h=h.sibling;return null}function r(p,h){for(p=new Map;h!==null;)h.key!==null?p.set(h.key,h):p.set(h.index,h),h=h.sibling;return p}function s(p,h){return p=Jt(p,h),p.index=0,p.sibling=null,p}function o(p,h,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<h?(p.flags|=2,h):y):(p.flags|=2,h)):(p.flags|=1048576,h)}function i(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,h,y,T){return h===null||h.tag!==6?(h=Ho(y,p.mode,T),h.return=p,h):(h=s(h,y),h.return=p,h)}function l(p,h,y,T){var j=y.type;return j===wn?c(p,h,y.props.children,T,y.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bt&&_l(j)===h.type)?(T=s(h,y.props),T.ref=tr(p,h,y),T.return=p,T):(T=ks(y.type,y.key,y.props,null,p.mode,T),T.ref=tr(p,h,y),T.return=p,T)}function u(p,h,y,T){return h===null||h.tag!==4||h.stateNode.containerInfo!==y.containerInfo||h.stateNode.implementation!==y.implementation?(h=Wo(y,p.mode,T),h.return=p,h):(h=s(h,y.children||[]),h.return=p,h)}function c(p,h,y,T,j){return h===null||h.tag!==7?(h=ln(y,p.mode,T,j),h.return=p,h):(h=s(h,y),h.return=p,h)}function d(p,h,y){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Ho(""+h,p.mode,y),h.return=p,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case Gr:return y=ks(h.type,h.key,h.props,null,p.mode,y),y.ref=tr(p,null,h),y.return=p,y;case vn:return h=Wo(h,p.mode,y),h.return=p,h;case Bt:var T=h._init;return d(p,T(h._payload),y)}if(ir(h)||Kn(h))return h=ln(h,p.mode,y,null),h.return=p,h;ss(p,h)}return null}function f(p,h,y,T){var j=h!==null?h.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:a(p,h,""+y,T);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Gr:return y.key===j?l(p,h,y,T):null;case vn:return y.key===j?u(p,h,y,T):null;case Bt:return j=y._init,f(p,h,j(y._payload),T)}if(ir(y)||Kn(y))return j!==null?null:c(p,h,y,T,null);ss(p,y)}return null}function g(p,h,y,T,j){if(typeof T=="string"&&T!==""||typeof T=="number")return p=p.get(y)||null,a(h,p,""+T,j);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Gr:return p=p.get(T.key===null?y:T.key)||null,l(h,p,T,j);case vn:return p=p.get(T.key===null?y:T.key)||null,u(h,p,T,j);case Bt:var P=T._init;return g(p,h,y,P(T._payload),j)}if(ir(T)||Kn(T))return p=p.get(y)||null,c(h,p,T,j,null);ss(h,T)}return null}function w(p,h,y,T){for(var j=null,P=null,$=h,_=h=0,D=null;$!==null&&_<y.length;_++){$.index>_?(D=$,$=null):D=$.sibling;var R=f(p,$,y[_],T);if(R===null){$===null&&($=D);break}e&&$&&R.alternate===null&&t(p,$),h=o(R,h,_),P===null?j=R:P.sibling=R,P=R,$=D}if(_===y.length)return n(p,$),ie&&tn(p,_),j;if($===null){for(;_<y.length;_++)$=d(p,y[_],T),$!==null&&(h=o($,h,_),P===null?j=$:P.sibling=$,P=$);return ie&&tn(p,_),j}for($=r(p,$);_<y.length;_++)D=g($,p,_,y[_],T),D!==null&&(e&&D.alternate!==null&&$.delete(D.key===null?_:D.key),h=o(D,h,_),P===null?j=D:P.sibling=D,P=D);return e&&$.forEach(function(W){return t(p,W)}),ie&&tn(p,_),j}function x(p,h,y,T){var j=Kn(y);if(typeof j!="function")throw Error(L(150));if(y=j.call(y),y==null)throw Error(L(151));for(var P=j=null,$=h,_=h=0,D=null,R=y.next();$!==null&&!R.done;_++,R=y.next()){$.index>_?(D=$,$=null):D=$.sibling;var W=f(p,$,R.value,T);if(W===null){$===null&&($=D);break}e&&$&&W.alternate===null&&t(p,$),h=o(W,h,_),P===null?j=W:P.sibling=W,P=W,$=D}if(R.done)return n(p,$),ie&&tn(p,_),j;if($===null){for(;!R.done;_++,R=y.next())R=d(p,R.value,T),R!==null&&(h=o(R,h,_),P===null?j=R:P.sibling=R,P=R);return ie&&tn(p,_),j}for($=r(p,$);!R.done;_++,R=y.next())R=g($,p,_,R.value,T),R!==null&&(e&&R.alternate!==null&&$.delete(R.key===null?_:R.key),h=o(R,h,_),P===null?j=R:P.sibling=R,P=R);return e&&$.forEach(function(fe){return t(p,fe)}),ie&&tn(p,_),j}function k(p,h,y,T){if(typeof y=="object"&&y!==null&&y.type===wn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Gr:e:{for(var j=y.key,P=h;P!==null;){if(P.key===j){if(j=y.type,j===wn){if(P.tag===7){n(p,P.sibling),h=s(P,y.props.children),h.return=p,p=h;break e}}else if(P.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Bt&&_l(j)===P.type){n(p,P.sibling),h=s(P,y.props),h.ref=tr(p,P,y),h.return=p,p=h;break e}n(p,P);break}else t(p,P);P=P.sibling}y.type===wn?(h=ln(y.props.children,p.mode,T,y.key),h.return=p,p=h):(T=ks(y.type,y.key,y.props,null,p.mode,T),T.ref=tr(p,h,y),T.return=p,p=T)}return i(p);case vn:e:{for(P=y.key;h!==null;){if(h.key===P)if(h.tag===4&&h.stateNode.containerInfo===y.containerInfo&&h.stateNode.implementation===y.implementation){n(p,h.sibling),h=s(h,y.children||[]),h.return=p,p=h;break e}else{n(p,h);break}else t(p,h);h=h.sibling}h=Wo(y,p.mode,T),h.return=p,p=h}return i(p);case Bt:return P=y._init,k(p,h,P(y._payload),T)}if(ir(y))return w(p,h,y,T);if(Kn(y))return x(p,h,y,T);ss(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,h!==null&&h.tag===6?(n(p,h.sibling),h=s(h,y),h.return=p,p=h):(n(p,h),h=Ho(y,p.mode,T),h.return=p,p=h),i(p)):n(p,h)}return k}var An=jc(!0),$c=jc(!1),Ms=Xt(null),As=null,Cn=null,fi=null;function hi(){fi=Cn=As=null}function pi(e){var t=Ms.current;ae(Ms),e._currentValue=t}function Sa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Bn(e,t){As=e,fi=Cn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ue=!0),e.firstContext=null)}function Xe(e){var t=e._currentValue;if(fi!==e)if(e={context:e,memoizedValue:t,next:null},Cn===null){if(As===null)throw Error(L(308));Cn=e,As.dependencies={lanes:0,firstContext:e}}else Cn=Cn.next=e;return t}var sn=null;function mi(e){sn===null?sn=[e]:sn.push(e)}function bc(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,mi(t)):(n.next=s.next,s.next=n),t.interleaved=n,_t(e,r)}function _t(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ut=!1;function yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $t(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_t(e,n)}return s=r.interleaved,s===null?(t.next=t,mi(r)):(t.next=s.next,s.next=t),r.interleaved=t,_t(e,n)}function ys(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ti(e,n)}}function Ol(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var s=e.updateQueue;Ut=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==i&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;i=0,c=u=l=null,a=o;do{var f=a.lane,g=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,x=a;switch(f=t,g=n,x.tag){case 1:if(w=x.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=x.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=de({},d,f);break e;case 2:Ut=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,i|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);fn|=i,e.lanes=i,e.memoizedState=d}}function Nl(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(L(191,s));s.call(r)}}}var Fr={},xt=Xt(Fr),_r=Xt(Fr),Or=Xt(Fr);function on(e){if(e===Fr)throw Error(L(174));return e}function gi(e,t){switch(se(Or,t),se(_r,e),se(xt,Fr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ra(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ra(t,e)}ae(xt),se(xt,t)}function Fn(){ae(xt),ae(_r),ae(Or)}function Pc(e){on(Or.current);var t=on(xt.current),n=ra(t,e.type);t!==n&&(se(_r,e),se(xt,n))}function xi(e){_r.current===e&&(ae(xt),ae(_r))}var ue=Xt(0);function Is(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Do=[];function vi(){for(var e=0;e<Do.length;e++)Do[e]._workInProgressVersionPrimary=null;Do.length=0}var gs=Lt.ReactCurrentDispatcher,zo=Lt.ReactCurrentBatchConfig,dn=0,ce=null,ge=null,we=null,Hs=!1,mr=!1,Nr=0,Ah=0;function je(){throw Error(L(321))}function wi(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lt(e[n],t[n]))return!1;return!0}function Ti(e,t,n,r,s,o){if(dn=o,ce=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gs.current=e===null||e.memoizedState===null?Wh:Vh,e=n(r,s),mr){o=0;do{if(mr=!1,Nr=0,25<=o)throw Error(L(301));o+=1,we=ge=null,t.updateQueue=null,gs.current=qh,e=n(r,s)}while(mr)}if(gs.current=Ws,t=ge!==null&&ge.next!==null,dn=0,we=ge=ce=null,Hs=!1,t)throw Error(L(300));return e}function ki(){var e=Nr!==0;return Nr=0,e}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?ce.memoizedState=we=e:we=we.next=e,we}function Ze(){if(ge===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=ge.next;var t=we===null?ce.memoizedState:we.next;if(t!==null)we=t,ge=e;else{if(e===null)throw Error(L(310));ge=e,e={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},we===null?ce.memoizedState=we=e:we=we.next=e}return we}function Lr(e,t){return typeof t=="function"?t(e):t}function Mo(e){var t=Ze(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=ge,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var c=u.lane;if((dn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,i=r):l=l.next=d,ce.lanes|=c,fn|=c}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,lt(r,t.memoizedState)||(Ue=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,ce.lanes|=o,fn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Ze(),n=t.queue;if(n===null)throw Error(L(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);lt(o,t.memoizedState)||(Ue=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function _c(){}function Oc(e,t){var n=ce,r=Ze(),s=t(),o=!lt(r.memoizedState,s);if(o&&(r.memoizedState=s,Ue=!0),r=r.queue,Si(Rc.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||we!==null&&we.memoizedState.tag&1){if(n.flags|=2048,Rr(9,Lc.bind(null,n,r,s,t),void 0,null),Te===null)throw Error(L(349));dn&30||Nc(n,t,s)}return s}function Nc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lc(e,t,n,r){t.value=n,t.getSnapshot=r,Bc(t)&&Uc(e)}function Rc(e,t,n){return n(function(){Bc(t)&&Uc(e)})}function Bc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lt(e,n)}catch{return!0}}function Uc(e){var t=_t(e,1);t!==null&&it(t,e,1,-1)}function Ll(e){var t=pt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lr,lastRenderedState:e},t.queue=e,e=e.dispatch=Hh.bind(null,ce,e),[t.memoizedState,e]}function Rr(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=ce.updateQueue,t===null?(t={lastEffect:null,stores:null},ce.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Dc(){return Ze().memoizedState}function xs(e,t,n,r){var s=pt();ce.flags|=e,s.memoizedState=Rr(1|t,n,void 0,r===void 0?null:r)}function oo(e,t,n,r){var s=Ze();r=r===void 0?null:r;var o=void 0;if(ge!==null){var i=ge.memoizedState;if(o=i.destroy,r!==null&&wi(r,i.deps)){s.memoizedState=Rr(t,n,o,r);return}}ce.flags|=e,s.memoizedState=Rr(1|t,n,o,r)}function Rl(e,t){return xs(8390656,8,e,t)}function Si(e,t){return oo(2048,8,e,t)}function zc(e,t){return oo(4,2,e,t)}function Mc(e,t){return oo(4,4,e,t)}function Ac(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fc(e,t,n){return n=n!=null?n.concat([e]):null,oo(4,4,Ac.bind(null,t,e),n)}function Ei(){}function Ic(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hc(e,t){var n=Ze();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&wi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wc(e,t,n){return dn&21?(lt(n,t)||(n=Qu(),ce.lanes|=n,fn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ue=!0),e.memoizedState=n)}function Fh(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=zo.transition;zo.transition={};try{e(!1),t()}finally{ne=n,zo.transition=r}}function Vc(){return Ze().memoizedState}function Ih(e,t,n){var r=Gt(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qc(e))Gc(t,n);else if(n=bc(e,t,n,r),n!==null){var s=Ne();it(n,e,r,s),Jc(n,t,r)}}function Hh(e,t,n){var r=Gt(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qc(e))Gc(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,lt(a,i)){var l=t.interleaved;l===null?(s.next=s,mi(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=bc(e,t,s,r),n!==null&&(s=Ne(),it(n,e,r,s),Jc(n,t,r))}}function qc(e){var t=e.alternate;return e===ce||t!==null&&t===ce}function Gc(e,t){mr=Hs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jc(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,ti(e,n)}}var Ws={readContext:Xe,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useInsertionEffect:je,useLayoutEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useMutableSource:je,useSyncExternalStore:je,useId:je,unstable_isNewReconciler:!1},Wh={readContext:Xe,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:Xe,useEffect:Rl,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xs(4194308,4,Ac.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=pt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=pt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ih.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:Ll,useDebugValue:Ei,useDeferredValue:function(e){return pt().memoizedState=e},useTransition:function(){var e=Ll(!1),t=e[0];return e=Fh.bind(null,e[1]),pt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ce,s=pt();if(ie){if(n===void 0)throw Error(L(407));n=n()}else{if(n=t(),Te===null)throw Error(L(349));dn&30||Nc(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Rl(Rc.bind(null,r,o,e),[e]),r.flags|=2048,Rr(9,Lc.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=pt(),t=Te.identifierPrefix;if(ie){var n=jt,r=Et;n=(r&~(1<<32-at(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nr++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ah++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Vh={readContext:Xe,useCallback:Ic,useContext:Xe,useEffect:Si,useImperativeHandle:Fc,useInsertionEffect:zc,useLayoutEffect:Mc,useMemo:Hc,useReducer:Mo,useRef:Dc,useState:function(){return Mo(Lr)},useDebugValue:Ei,useDeferredValue:function(e){var t=Ze();return Wc(t,ge.memoizedState,e)},useTransition:function(){var e=Mo(Lr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:_c,useSyncExternalStore:Oc,useId:Vc,unstable_isNewReconciler:!1},qh={readContext:Xe,useCallback:Ic,useContext:Xe,useEffect:Si,useImperativeHandle:Fc,useInsertionEffect:zc,useLayoutEffect:Mc,useMemo:Hc,useReducer:Ao,useRef:Dc,useState:function(){return Ao(Lr)},useDebugValue:Ei,useDeferredValue:function(e){var t=Ze();return ge===null?t.memoizedState=e:Wc(t,ge.memoizedState,e)},useTransition:function(){var e=Ao(Lr)[0],t=Ze().memoizedState;return[e,t]},useMutableSource:_c,useSyncExternalStore:Oc,useId:Vc,unstable_isNewReconciler:!1};function rt(e,t){if(e&&e.defaultProps){t=de({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ea(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:de({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ao={isMounted:function(e){return(e=e._reactInternals)?mn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Gt(e),o=$t(r,s);o.payload=t,n!=null&&(o.callback=n),t=Vt(e,o,s),t!==null&&(it(t,e,s,r),ys(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ne(),s=Gt(e),o=$t(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Vt(e,o,s),t!==null&&(it(t,e,s,r),ys(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ne(),r=Gt(e),s=$t(n,r);s.tag=2,t!=null&&(s.callback=t),t=Vt(e,s,r),t!==null&&(it(t,e,r,n),ys(t,e,r))}};function Bl(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!$r(n,r)||!$r(s,o):!0}function Qc(e,t,n){var r=!1,s=Kt,o=t.contextType;return typeof o=="object"&&o!==null?o=Xe(o):(s=ze(t)?un:Ce.current,r=t.contextTypes,o=(r=r!=null)?zn(e,s):Kt),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ao,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ul(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ao.enqueueReplaceState(t,t.state,null)}function ja(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},yi(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Xe(o):(o=ze(t)?un:Ce.current,s.context=zn(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ea(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ao.enqueueReplaceState(s,s.state,null),Fs(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function In(e,t){try{var n="",r=t;do n+=wf(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Fo(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function $a(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Gh=typeof WeakMap=="function"?WeakMap:Map;function Kc(e,t,n){n=$t(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qs||(qs=!0,Ua=r),$a(e,t)},n}function Yc(e,t,n){n=$t(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){$a(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$a(e,t),typeof r!="function"&&(qt===null?qt=new Set([this]):qt.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Dl(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Gh;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=ip.bind(null,e,t,n),t.then(e,e))}function zl(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Ml(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=$t(-1,1),t.tag=2,Vt(n,t,1))),n.lanes|=1),e)}var Jh=Lt.ReactCurrentOwner,Ue=!1;function Oe(e,t,n,r){t.child=e===null?$c(t,null,n,r):An(t,e.child,n,r)}function Al(e,t,n,r,s){n=n.render;var o=t.ref;return Bn(t,s),r=Ti(e,t,n,r,o,s),n=ki(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ie&&n&&ui(t),t.flags|=1,Oe(e,t,r,s),t.child)}function Fl(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Ni(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Xc(e,t,o,r,s)):(e=ks(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:$r,n(i,r)&&e.ref===t.ref)return Ot(e,t,s)}return t.flags|=1,e=Jt(o,r),e.ref=t.ref,e.return=t,t.child=e}function Xc(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if($r(o,r)&&e.ref===t.ref)if(Ue=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(Ue=!0);else return t.lanes=e.lanes,Ot(e,t,s)}return ba(e,t,n,r,s)}function Zc(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(_n,Ie),Ie|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(_n,Ie),Ie|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,se(_n,Ie),Ie|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,se(_n,Ie),Ie|=r;return Oe(e,t,s,n),t.child}function ed(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ba(e,t,n,r,s){var o=ze(n)?un:Ce.current;return o=zn(t,o),Bn(t,s),n=Ti(e,t,n,r,o,s),r=ki(),e!==null&&!Ue?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ot(e,t,s)):(ie&&r&&ui(t),t.flags|=1,Oe(e,t,n,s),t.child)}function Il(e,t,n,r,s){if(ze(n)){var o=!0;Us(t)}else o=!1;if(Bn(t,s),t.stateNode===null)vs(e,t),Qc(t,n,r),ja(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xe(u):(u=ze(n)?un:Ce.current,u=zn(t,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof i.getSnapshotBeforeUpdate=="function";d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Ul(t,i,r,u),Ut=!1;var f=t.memoizedState;i.state=f,Fs(t,r,i,s),l=t.memoizedState,a!==r||f!==l||De.current||Ut?(typeof c=="function"&&(Ea(t,n,c,r),l=t.memoizedState),(a=Ut||Bl(t,n,a,r,f,l,u))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Cc(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:rt(t.type,a),i.props=u,d=t.pendingProps,f=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xe(l):(l=ze(n)?un:Ce.current,l=zn(t,l));var g=n.getDerivedStateFromProps;(c=typeof g=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==d||f!==l)&&Ul(t,i,r,l),Ut=!1,f=t.memoizedState,i.state=f,Fs(t,r,i,s);var w=t.memoizedState;a!==d||f!==w||De.current||Ut?(typeof g=="function"&&(Ea(t,n,g,r),w=t.memoizedState),(u=Ut||Bl(t,n,u,r,f,w,l)||!1)?(c||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,w,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,w,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=w),i.props=r,i.state=w,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ca(e,t,n,r,o,s)}function Ca(e,t,n,r,s,o){ed(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&bl(t,n,!1),Ot(e,t,o);r=t.stateNode,Jh.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=An(t,e.child,null,o),t.child=An(t,null,a,o)):Oe(e,t,a,o),t.memoizedState=r.state,s&&bl(t,n,!0),t.child}function td(e){var t=e.stateNode;t.pendingContext?$l(e,t.pendingContext,t.pendingContext!==t.context):t.context&&$l(e,t.context,!1),gi(e,t.containerInfo)}function Hl(e,t,n,r,s){return Mn(),di(s),t.flags|=256,Oe(e,t,n,r),t.child}var Pa={dehydrated:null,treeContext:null,retryLane:0};function _a(e){return{baseLanes:e,cachePool:null,transitions:null}}function nd(e,t,n){var r=t.pendingProps,s=ue.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),se(ue,s&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=uo(i,r,0,null),e=ln(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=_a(n),t.memoizedState=Pa,e):ji(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Qh(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Jt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Jt(a,o):(o=ln(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?_a(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Pa,r}return o=e.child,e=o.sibling,r=Jt(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ji(e,t){return t=uo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function os(e,t,n,r){return r!==null&&di(r),An(t,e.child,null,n),e=ji(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Qh(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Fo(Error(L(422))),os(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=uo({mode:"visible",children:r.children},s,0,null),o=ln(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&An(t,e.child,null,i),t.child.memoizedState=_a(i),t.memoizedState=Pa,o);if(!(t.mode&1))return os(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(L(419)),r=Fo(o,r,void 0),os(e,t,i,r)}if(a=(i&e.childLanes)!==0,Ue||a){if(r=Te,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,_t(e,s),it(r,e,s,-1))}return Oi(),r=Fo(Error(L(421))),os(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=lp.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,He=Wt(s.nextSibling),We=t,ie=!0,ot=null,e!==null&&(Je[Qe++]=Et,Je[Qe++]=jt,Je[Qe++]=cn,Et=e.id,jt=e.overflow,cn=t),t=ji(t,r.children),t.flags|=4096,t)}function Wl(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Sa(e.return,t,n)}function Io(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function rd(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Oe(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wl(e,n,t);else if(e.tag===19)Wl(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Is(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Io(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Is(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Io(t,!0,n,null,o);break;case"together":Io(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function vs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ot(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),fn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(L(153));if(t.child!==null){for(e=t.child,n=Jt(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Jt(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Kh(e,t,n){switch(t.tag){case 3:td(t),Mn();break;case 5:Pc(t);break;case 1:ze(t.type)&&Us(t);break;case 4:gi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;se(Ms,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?nd(e,t,n):(se(ue,ue.current&1),e=Ot(e,t,n),e!==null?e.sibling:null);se(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return rd(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),se(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,Zc(e,t,n)}return Ot(e,t,n)}var sd,Oa,od,ad;sd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Oa=function(){};od=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,on(xt.current);var o=null;switch(n){case"input":s=Zo(e,s),r=Zo(e,r),o=[];break;case"select":s=de({},s,{value:void 0}),r=de({},r,{value:void 0}),o=[];break;case"textarea":s=na(e,s),r=na(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Rs)}sa(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(vr.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(vr.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&oe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ad=function(e,t,n,r){n!==r&&(t.flags|=4)};function nr(e,t){if(!ie)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yh(e,t,n){var r=t.pendingProps;switch(ci(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return ze(t.type)&&Bs(),$e(t),null;case 3:return r=t.stateNode,Fn(),ae(De),ae(Ce),vi(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rs(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ot!==null&&(Ma(ot),ot=null))),Oa(e,t),$e(t),null;case 5:xi(t);var s=on(Or.current);if(n=t.type,e!==null&&t.stateNode!=null)od(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(L(166));return $e(t),null}if(e=on(xt.current),rs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[mt]=t,r[Pr]=o,e=(t.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(s=0;s<ur.length;s++)oe(ur[s],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Zi(r,o),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},oe("invalid",r);break;case"textarea":tl(r,o),oe("invalid",r)}sa(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ns(r.textContent,a,e),s=["children",""+a]):vr.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&oe("scroll",r)}switch(n){case"input":Jr(r),el(r,o,!0);break;case"textarea":Jr(r),nl(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Rs)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ru(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[mt]=t,e[Pr]=r,sd(e,t,!1,!1),t.stateNode=e;e:{switch(i=oa(n,r),n){case"dialog":oe("cancel",e),oe("close",e),s=r;break;case"iframe":case"object":case"embed":oe("load",e),s=r;break;case"video":case"audio":for(s=0;s<ur.length;s++)oe(ur[s],e);s=r;break;case"source":oe("error",e),s=r;break;case"img":case"image":case"link":oe("error",e),oe("load",e),s=r;break;case"details":oe("toggle",e),s=r;break;case"input":Zi(e,r),s=Zo(e,r),oe("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=de({},r,{value:void 0}),oe("invalid",e);break;case"textarea":tl(e,r),s=na(e,r),oe("invalid",e);break;default:s=r}sa(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Du(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Bu(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wr(e,l):typeof l=="number"&&wr(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(vr.hasOwnProperty(o)?l!=null&&o==="onScroll"&&oe("scroll",e):l!=null&&Qa(e,o,l,i))}switch(n){case"input":Jr(e),el(e,r,!1);break;case"textarea":Jr(e),nl(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Qt(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?On(e,!!r.multiple,o,!1):r.defaultValue!=null&&On(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Rs)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)ad(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(L(166));if(n=on(Or.current),on(xt.current),rs(t)){if(r=t.stateNode,n=t.memoizedProps,r[mt]=t,(o=r.nodeValue!==n)&&(e=We,e!==null))switch(e.tag){case 3:ns(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ns(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[mt]=t,t.stateNode=r}return $e(t),null;case 13:if(ae(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ie&&He!==null&&t.mode&1&&!(t.flags&128))Ec(),Mn(),t.flags|=98560,o=!1;else if(o=rs(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(L(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(L(317));o[mt]=t}else Mn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),o=!1}else ot!==null&&(Ma(ot),ot=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?xe===0&&(xe=3):Oi())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return Fn(),Oa(e,t),e===null&&br(t.stateNode.containerInfo),$e(t),null;case 10:return pi(t.type._context),$e(t),null;case 17:return ze(t.type)&&Bs(),$e(t),null;case 19:if(ae(ue),o=t.memoizedState,o===null)return $e(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)nr(o,!1);else{if(xe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Is(e),i!==null){for(t.flags|=128,nr(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(ue,ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&me()>Hn&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304)}else{if(!r)if(e=Is(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),nr(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!ie)return $e(t),null}else 2*me()-o.renderingStartTime>Hn&&n!==1073741824&&(t.flags|=128,r=!0,nr(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=me(),t.sibling=null,n=ue.current,se(ue,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return _i(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ie&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error(L(156,t.tag))}function Xh(e,t){switch(ci(t),t.tag){case 1:return ze(t.type)&&Bs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),ae(De),ae(Ce),vi(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return xi(t),null;case 13:if(ae(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(L(340));Mn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ae(ue),null;case 4:return Fn(),null;case 10:return pi(t.type._context),null;case 22:case 23:return _i(),null;case 24:return null;default:return null}}var as=!1,be=!1,Zh=typeof WeakSet=="function"?WeakSet:Set,I=null;function Pn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){he(e,t,r)}else n.current=null}function Na(e,t,n){try{n()}catch(r){he(e,t,r)}}var Vl=!1;function ep(e,t){if(ma=Os,e=dc(),li(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==n||s!==0&&d.nodeType!==3||(a=i+s),d!==o||r!==0&&d.nodeType!==3||(l=i+r),d.nodeType===3&&(i+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===n&&++u===s&&(a=i),f===o&&++c===r&&(l=i),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ya={focusedElem:e,selectionRange:n},Os=!1,I=t;I!==null;)if(t=I,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,I=e;else for(;I!==null;){t=I;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var x=w.memoizedProps,k=w.memoizedState,p=t.stateNode,h=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:rt(t.type,x),k);p.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(L(163))}}catch(T){he(t,t.return,T)}if(e=t.sibling,e!==null){e.return=t.return,I=e;break}I=t.return}return w=Vl,Vl=!1,w}function yr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Na(t,n,o)}s=s.next}while(s!==r)}}function io(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function La(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[mt],delete t[Pr],delete t[va],delete t[Uh],delete t[Dh])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function ql(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ra(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Rs));else if(r!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}var ke=null,st=!1;function Rt(e,t,n){for(n=n.child;n!==null;)ud(e,t,n),n=n.sibling}function ud(e,t,n){if(gt&&typeof gt.onCommitFiberUnmount=="function")try{gt.onCommitFiberUnmount(Zs,n)}catch{}switch(n.tag){case 5:be||Pn(n,t);case 6:var r=ke,s=st;ke=null,Rt(e,t,n),ke=r,st=s,ke!==null&&(st?(e=ke,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ke.removeChild(n.stateNode));break;case 18:ke!==null&&(st?(e=ke,n=n.stateNode,e.nodeType===8?Bo(e.parentNode,n):e.nodeType===1&&Bo(e,n),Er(e)):Bo(ke,n.stateNode));break;case 4:r=ke,s=st,ke=n.stateNode.containerInfo,st=!0,Rt(e,t,n),ke=r,st=s;break;case 0:case 11:case 14:case 15:if(!be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Na(n,t,i),s=s.next}while(s!==r)}Rt(e,t,n);break;case 1:if(!be&&(Pn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){he(n,t,a)}Rt(e,t,n);break;case 21:Rt(e,t,n);break;case 22:n.mode&1?(be=(r=be)||n.memoizedState!==null,Rt(e,t,n),be=r):Rt(e,t,n);break;default:Rt(e,t,n)}}function Gl(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Zh),t.forEach(function(r){var s=up.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function nt(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:ke=a.stateNode,st=!1;break e;case 3:ke=a.stateNode.containerInfo,st=!0;break e;case 4:ke=a.stateNode.containerInfo,st=!0;break e}a=a.return}if(ke===null)throw Error(L(160));ud(o,i,s),ke=null,st=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){he(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nt(t,e),ht(e),r&4){try{yr(3,e,e.return),io(3,e)}catch(x){he(e,e.return,x)}try{yr(5,e,e.return)}catch(x){he(e,e.return,x)}}break;case 1:nt(t,e),ht(e),r&512&&n!==null&&Pn(n,n.return);break;case 5:if(nt(t,e),ht(e),r&512&&n!==null&&Pn(n,n.return),e.flags&32){var s=e.stateNode;try{wr(s,"")}catch(x){he(e,e.return,x)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Nu(s,o),oa(a,i);var u=oa(a,o);for(i=0;i<l.length;i+=2){var c=l[i],d=l[i+1];c==="style"?Du(s,d):c==="dangerouslySetInnerHTML"?Bu(s,d):c==="children"?wr(s,d):Qa(s,c,d,u)}switch(a){case"input":ea(s,o);break;case"textarea":Lu(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?On(s,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?On(s,!!o.multiple,o.defaultValue,!0):On(s,!!o.multiple,o.multiple?[]:"",!1))}s[Pr]=o}catch(x){he(e,e.return,x)}}break;case 6:if(nt(t,e),ht(e),r&4){if(e.stateNode===null)throw Error(L(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(x){he(e,e.return,x)}}break;case 3:if(nt(t,e),ht(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Er(t.containerInfo)}catch(x){he(e,e.return,x)}break;case 4:nt(t,e),ht(e);break;case 13:nt(t,e),ht(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Ci=me())),r&4&&Gl(e);break;case 22:if(c=n!==null&&n.memoizedState!==null,e.mode&1?(be=(u=be)||c,nt(t,e),be=u):nt(t,e),ht(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(I=e,c=e.child;c!==null;){for(d=I=c;I!==null;){switch(f=I,g=f.child,f.tag){case 0:case 11:case 14:case 15:yr(4,f,f.return);break;case 1:Pn(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){r=f,n=f.return;try{t=r,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(x){he(r,n,x)}}break;case 5:Pn(f,f.return);break;case 22:if(f.memoizedState!==null){Ql(d);continue}}g!==null?(g.return=f,I=g):Ql(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Uu("display",i))}catch(x){he(e,e.return,x)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){he(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:nt(t,e),ht(e),r&4&&Gl(e);break;case 21:break;default:nt(t,e),ht(e)}}function ht(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ld(n)){var r=n;break e}n=n.return}throw Error(L(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(wr(s,""),r.flags&=-33);var o=ql(e);Ba(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=ql(e);Ra(e,a,i);break;default:throw Error(L(161))}}catch(l){he(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function tp(e,t,n){I=e,dd(e)}function dd(e,t,n){for(var r=(e.mode&1)!==0;I!==null;){var s=I,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||as;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||be;a=as;var u=be;if(as=i,(be=l)&&!u)for(I=s;I!==null;)i=I,l=i.child,i.tag===22&&i.memoizedState!==null?Kl(s):l!==null?(l.return=i,I=l):Kl(s);for(;o!==null;)I=o,dd(o),o=o.sibling;I=s,as=a,be=u}Jl(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,I=o):Jl(e)}}function Jl(e){for(;I!==null;){var t=I;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||io(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!be)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:rt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Nl(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Nl(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Er(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(L(163))}be||t.flags&512&&La(t)}catch(f){he(t,t.return,f)}}if(t===e){I=null;break}if(n=t.sibling,n!==null){n.return=t.return,I=n;break}I=t.return}}function Ql(e){for(;I!==null;){var t=I;if(t===e){I=null;break}var n=t.sibling;if(n!==null){n.return=t.return,I=n;break}I=t.return}}function Kl(e){for(;I!==null;){var t=I;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{io(4,t)}catch(l){he(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){he(t,s,l)}}var o=t.return;try{La(t)}catch(l){he(t,o,l)}break;case 5:var i=t.return;try{La(t)}catch(l){he(t,i,l)}}}catch(l){he(t,t.return,l)}if(t===e){I=null;break}var a=t.sibling;if(a!==null){a.return=t.return,I=a;break}I=t.return}}var np=Math.ceil,Vs=Lt.ReactCurrentDispatcher,$i=Lt.ReactCurrentOwner,Ye=Lt.ReactCurrentBatchConfig,te=0,Te=null,ye=null,Se=0,Ie=0,_n=Xt(0),xe=0,Br=null,fn=0,lo=0,bi=0,gr=null,Be=null,Ci=0,Hn=1/0,kt=null,qs=!1,Ua=null,qt=null,is=!1,At=null,Gs=0,xr=0,Da=null,ws=-1,Ts=0;function Ne(){return te&6?me():ws!==-1?ws:ws=me()}function Gt(e){return e.mode&1?te&2&&Se!==0?Se&-Se:Mh.transition!==null?(Ts===0&&(Ts=Qu()),Ts):(e=ne,e!==0||(e=window.event,e=e===void 0?16:nc(e.type)),e):1}function it(e,t,n,r){if(50<xr)throw xr=0,Da=null,Error(L(185));zr(e,n,r),(!(te&2)||e!==Te)&&(e===Te&&(!(te&2)&&(lo|=n),xe===4&&zt(e,Se)),Me(e,r),n===1&&te===0&&!(t.mode&1)&&(Hn=me()+500,so&&Zt()))}function Me(e,t){var n=e.callbackNode;Mf(e,t);var r=_s(e,e===Te?Se:0);if(r===0)n!==null&&ol(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ol(n),t===1)e.tag===0?zh(Yl.bind(null,e)):Tc(Yl.bind(null,e)),Rh(function(){!(te&6)&&Zt()}),n=null;else{switch(Ku(r)){case 1:n=ei;break;case 4:n=Gu;break;case 16:n=Ps;break;case 536870912:n=Ju;break;default:n=Ps}n=vd(n,fd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function fd(e,t){if(ws=-1,Ts=0,te&6)throw Error(L(327));var n=e.callbackNode;if(Un()&&e.callbackNode!==n)return null;var r=_s(e,e===Te?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Js(e,r);else{t=r;var s=te;te|=2;var o=pd();(Te!==e||Se!==t)&&(kt=null,Hn=me()+500,an(e,t));do try{op();break}catch(a){hd(e,a)}while(!0);hi(),Vs.current=o,te=s,ye!==null?t=0:(Te=null,Se=0,t=xe)}if(t!==0){if(t===2&&(s=ca(e),s!==0&&(r=s,t=za(e,s))),t===1)throw n=Br,an(e,0),zt(e,r),Me(e,me()),n;if(t===6)zt(e,r);else{if(s=e.current.alternate,!(r&30)&&!rp(s)&&(t=Js(e,r),t===2&&(o=ca(e),o!==0&&(r=o,t=za(e,o))),t===1))throw n=Br,an(e,0),zt(e,r),Me(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(L(345));case 2:nn(e,Be,kt);break;case 3:if(zt(e,r),(r&130023424)===r&&(t=Ci+500-me(),10<t)){if(_s(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ne(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=xa(nn.bind(null,e,Be,kt),t);break}nn(e,Be,kt);break;case 4:if(zt(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-at(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*np(r/1960))-r,10<r){e.timeoutHandle=xa(nn.bind(null,e,Be,kt),r);break}nn(e,Be,kt);break;case 5:nn(e,Be,kt);break;default:throw Error(L(329))}}}return Me(e,me()),e.callbackNode===n?fd.bind(null,e):null}function za(e,t){var n=gr;return e.current.memoizedState.isDehydrated&&(an(e,t).flags|=256),e=Js(e,t),e!==2&&(t=Be,Be=n,t!==null&&Ma(t)),e}function Ma(e){Be===null?Be=e:Be.push.apply(Be,e)}function rp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!lt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function zt(e,t){for(t&=~bi,t&=~lo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function Yl(e){if(te&6)throw Error(L(327));Un();var t=_s(e,0);if(!(t&1))return Me(e,me()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var r=ca(e);r!==0&&(t=r,n=za(e,r))}if(n===1)throw n=Br,an(e,0),zt(e,t),Me(e,me()),n;if(n===6)throw Error(L(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nn(e,Be,kt),Me(e,me()),null}function Pi(e,t){var n=te;te|=1;try{return e(t)}finally{te=n,te===0&&(Hn=me()+500,so&&Zt())}}function hn(e){At!==null&&At.tag===0&&!(te&6)&&Un();var t=te;te|=1;var n=Ye.transition,r=ne;try{if(Ye.transition=null,ne=1,e)return e()}finally{ne=r,Ye.transition=n,te=t,!(te&6)&&Zt()}}function _i(){Ie=_n.current,ae(_n)}function an(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lh(n)),ye!==null)for(n=ye.return;n!==null;){var r=n;switch(ci(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bs();break;case 3:Fn(),ae(De),ae(Ce),vi();break;case 5:xi(r);break;case 4:Fn();break;case 13:ae(ue);break;case 19:ae(ue);break;case 10:pi(r.type._context);break;case 22:case 23:_i()}n=n.return}if(Te=e,ye=e=Jt(e.current,null),Se=Ie=t,xe=0,Br=null,bi=lo=fn=0,Be=gr=null,sn!==null){for(t=0;t<sn.length;t++)if(n=sn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}sn=null}return e}function hd(e,t){do{var n=ye;try{if(hi(),gs.current=Ws,Hs){for(var r=ce.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hs=!1}if(dn=0,we=ge=ce=null,mr=!1,Nr=0,$i.current=null,n===null||n.return===null){xe=1,Br=t,ye=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=zl(i);if(g!==null){g.flags&=-257,Ml(g,i,a,o,t),g.mode&1&&Dl(o,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var x=new Set;x.add(l),t.updateQueue=x}else w.add(l);break e}else{if(!(t&1)){Dl(o,u,t),Oi();break e}l=Error(L(426))}}else if(ie&&a.mode&1){var k=zl(i);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Ml(k,i,a,o,t),di(In(l,a));break e}}o=l=In(l,a),xe!==4&&(xe=2),gr===null?gr=[o]:gr.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=Kc(o,l,t);Ol(o,p);break e;case 1:a=l;var h=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof h.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(qt===null||!qt.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var T=Yc(o,a,t);Ol(o,T);break e}}o=o.return}while(o!==null)}yd(n)}catch(j){t=j,ye===n&&n!==null&&(ye=n=n.return);continue}break}while(!0)}function pd(){var e=Vs.current;return Vs.current=Ws,e===null?Ws:e}function Oi(){(xe===0||xe===3||xe===2)&&(xe=4),Te===null||!(fn&268435455)&&!(lo&268435455)||zt(Te,Se)}function Js(e,t){var n=te;te|=2;var r=pd();(Te!==e||Se!==t)&&(kt=null,an(e,t));do try{sp();break}catch(s){hd(e,s)}while(!0);if(hi(),te=n,Vs.current=r,ye!==null)throw Error(L(261));return Te=null,Se=0,xe}function sp(){for(;ye!==null;)md(ye)}function op(){for(;ye!==null&&!_f();)md(ye)}function md(e){var t=xd(e.alternate,e,Ie);e.memoizedProps=e.pendingProps,t===null?yd(e):ye=t,$i.current=null}function yd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Xh(n,t),n!==null){n.flags&=32767,ye=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xe=6,ye=null;return}}else if(n=Yh(n,t,Ie),n!==null){ye=n;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);xe===0&&(xe=5)}function nn(e,t,n){var r=ne,s=Ye.transition;try{Ye.transition=null,ne=1,ap(e,t,n,r)}finally{Ye.transition=s,ne=r}return null}function ap(e,t,n,r){do Un();while(At!==null);if(te&6)throw Error(L(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(L(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Af(e,o),e===Te&&(ye=Te=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||is||(is=!0,vd(Ps,function(){return Un(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ye.transition,Ye.transition=null;var i=ne;ne=1;var a=te;te|=4,$i.current=null,ep(e,n),cd(n,e),$h(ya),Os=!!ma,ya=ma=null,e.current=n,tp(n),Of(),te=a,ne=i,Ye.transition=o}else e.current=n;if(is&&(is=!1,At=e,Gs=s),o=e.pendingLanes,o===0&&(qt=null),Rf(n.stateNode),Me(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qs)throw qs=!1,e=Ua,Ua=null,e;return Gs&1&&e.tag!==0&&Un(),o=e.pendingLanes,o&1?e===Da?xr++:(xr=0,Da=e):xr=0,Zt(),null}function Un(){if(At!==null){var e=Ku(Gs),t=Ye.transition,n=ne;try{if(Ye.transition=null,ne=16>e?16:e,At===null)var r=!1;else{if(e=At,At=null,Gs=0,te&6)throw Error(L(331));var s=te;for(te|=4,I=e.current;I!==null;){var o=I,i=o.child;if(I.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:yr(8,c,o)}var d=c.child;if(d!==null)d.return=c,I=d;else for(;I!==null;){c=I;var f=c.sibling,g=c.return;if(id(c),c===u){I=null;break}if(f!==null){f.return=g,I=f;break}I=g}}}var w=o.alternate;if(w!==null){var x=w.child;if(x!==null){w.child=null;do{var k=x.sibling;x.sibling=null,x=k}while(x!==null)}}I=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,I=i;else e:for(;I!==null;){if(o=I,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yr(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,I=p;break e}I=o.return}}var h=e.current;for(I=h;I!==null;){i=I;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,I=y;else e:for(i=h;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:io(9,a)}}catch(j){he(a,a.return,j)}if(a===i){I=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,I=T;break e}I=a.return}}if(te=s,Zt(),gt&&typeof gt.onPostCommitFiberRoot=="function")try{gt.onPostCommitFiberRoot(Zs,e)}catch{}r=!0}return r}finally{ne=n,Ye.transition=t}}return!1}function Xl(e,t,n){t=In(n,t),t=Kc(e,t,1),e=Vt(e,t,1),t=Ne(),e!==null&&(zr(e,1,t),Me(e,t))}function he(e,t,n){if(e.tag===3)Xl(e,e,n);else for(;t!==null;){if(t.tag===3){Xl(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qt===null||!qt.has(r))){e=In(n,e),e=Yc(t,e,1),t=Vt(t,e,1),e=Ne(),t!==null&&(zr(t,1,e),Me(t,e));break}}t=t.return}}function ip(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&n,Te===e&&(Se&n)===n&&(xe===4||xe===3&&(Se&130023424)===Se&&500>me()-Ci?an(e,0):bi|=n),Me(e,t)}function gd(e,t){t===0&&(e.mode&1?(t=Yr,Yr<<=1,!(Yr&130023424)&&(Yr=4194304)):t=1);var n=Ne();e=_t(e,t),e!==null&&(zr(e,t,n),Me(e,n))}function lp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),gd(e,n)}function up(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(L(314))}r!==null&&r.delete(t),gd(e,n)}var xd;xd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||De.current)Ue=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ue=!1,Kh(e,t,n);Ue=!!(e.flags&131072)}else Ue=!1,ie&&t.flags&1048576&&kc(t,zs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;vs(e,t),e=t.pendingProps;var s=zn(t,Ce.current);Bn(t,n),s=Ti(null,t,r,e,s,n);var o=ki();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ze(r)?(o=!0,Us(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,yi(t),s.updater=ao,t.stateNode=s,s._reactInternals=t,ja(t,r,e,n),t=Ca(null,t,r,!0,o,n)):(t.tag=0,ie&&o&&ui(t),Oe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(vs(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=dp(r),e=rt(r,e),s){case 0:t=ba(null,t,r,e,n);break e;case 1:t=Il(null,t,r,e,n);break e;case 11:t=Al(null,t,r,e,n);break e;case 14:t=Fl(null,t,r,rt(r.type,e),n);break e}throw Error(L(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),ba(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Il(e,t,r,s,n);case 3:e:{if(td(t),e===null)throw Error(L(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Cc(e,t),Fs(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=In(Error(L(423)),t),t=Hl(e,t,r,n,s);break e}else if(r!==s){s=In(Error(L(424)),t),t=Hl(e,t,r,n,s);break e}else for(He=Wt(t.stateNode.containerInfo.firstChild),We=t,ie=!0,ot=null,n=$c(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mn(),r===s){t=Ot(e,t,n);break e}Oe(e,t,r,n)}t=t.child}return t;case 5:return Pc(t),e===null&&ka(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,ga(r,s)?i=null:o!==null&&ga(r,o)&&(t.flags|=32),ed(e,t),Oe(e,t,i,n),t.child;case 6:return e===null&&ka(t),null;case 13:return nd(e,t,n);case 4:return gi(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=An(t,null,r,n):Oe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),Al(e,t,r,s,n);case 7:return Oe(e,t,t.pendingProps,n),t.child;case 8:return Oe(e,t,t.pendingProps.children,n),t.child;case 12:return Oe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,se(Ms,r._currentValue),r._currentValue=i,o!==null)if(lt(o.value,i)){if(o.children===s.children&&!De.current){t=Ot(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=$t(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Sa(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(L(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),Sa(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Oe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Bn(t,n),s=Xe(s),r=r(s),t.flags|=1,Oe(e,t,r,n),t.child;case 14:return r=t.type,s=rt(r,t.pendingProps),s=rt(r.type,s),Fl(e,t,r,s,n);case 15:return Xc(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:rt(r,s),vs(e,t),t.tag=1,ze(r)?(e=!0,Us(t)):e=!1,Bn(t,n),Qc(t,r,s),ja(t,r,s,n),Ca(null,t,r,!0,e,n);case 19:return rd(e,t,n);case 22:return Zc(e,t,n)}throw Error(L(156,t.tag))};function vd(e,t){return qu(e,t)}function cp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ke(e,t,n,r){return new cp(e,t,n,r)}function Ni(e){return e=e.prototype,!(!e||!e.isReactComponent)}function dp(e){if(typeof e=="function")return Ni(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ya)return 11;if(e===Xa)return 14}return 2}function Jt(e,t){var n=e.alternate;return n===null?(n=Ke(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ks(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")Ni(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case wn:return ln(n.children,s,o,t);case Ka:i=8,s|=8;break;case Qo:return e=Ke(12,n,t,s|2),e.elementType=Qo,e.lanes=o,e;case Ko:return e=Ke(13,n,t,s),e.elementType=Ko,e.lanes=o,e;case Yo:return e=Ke(19,n,t,s),e.elementType=Yo,e.lanes=o,e;case Pu:return uo(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bu:i=10;break e;case Cu:i=9;break e;case Ya:i=11;break e;case Xa:i=14;break e;case Bt:i=16,r=null;break e}throw Error(L(130,e==null?e:typeof e,""))}return t=Ke(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ln(e,t,n,r){return e=Ke(7,e,r,t),e.lanes=n,e}function uo(e,t,n,r){return e=Ke(22,e,r,t),e.elementType=Pu,e.lanes=n,e.stateNode={isHidden:!1},e}function Ho(e,t,n){return e=Ke(6,e,null,t),e.lanes=n,e}function Wo(e,t,n){return t=Ke(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function fp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eo(0),this.expirationTimes=Eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Li(e,t,n,r,s,o,i,a,l){return e=new fp(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ke(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yi(o),e}function hp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wd(e){if(!e)return Kt;e=e._reactInternals;e:{if(mn(e)!==e||e.tag!==1)throw Error(L(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(L(171))}if(e.tag===1){var n=e.type;if(ze(n))return wc(e,n,t)}return t}function Td(e,t,n,r,s,o,i,a,l){return e=Li(n,r,!0,e,s,o,i,a,l),e.context=wd(null),n=e.current,r=Ne(),s=Gt(n),o=$t(r,s),o.callback=t??null,Vt(n,o,s),e.current.lanes=s,zr(e,s,r),Me(e,r),e}function co(e,t,n,r){var s=t.current,o=Ne(),i=Gt(s);return n=wd(n),t.context===null?t.context=n:t.pendingContext=n,t=$t(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Vt(s,t,i),e!==null&&(it(e,s,i,o),ys(e,s,i)),i}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Zl(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ri(e,t){Zl(e,t),(e=e.alternate)&&Zl(e,t)}function pp(){return null}var kd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bi(e){this._internalRoot=e}fo.prototype.render=Bi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(L(409));co(e,t,null,null)};fo.prototype.unmount=Bi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hn(function(){co(null,e,null,null)}),t[Pt]=null}};function fo(e){this._internalRoot=e}fo.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&t!==0&&t<Dt[n].priority;n++);Dt.splice(n,0,e),n===0&&tc(e)}};function Ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ho(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function eu(){}function mp(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=Qs(i);o.call(u)}}var i=Td(t,r,e,0,null,!1,!1,"",eu);return e._reactRootContainer=i,e[Pt]=i.current,br(e.nodeType===8?e.parentNode:e),hn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Qs(l);a.call(u)}}var l=Li(e,0,!1,null,null,!1,!1,"",eu);return e._reactRootContainer=l,e[Pt]=l.current,br(e.nodeType===8?e.parentNode:e),hn(function(){co(t,l,n,r)}),l}function po(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=Qs(i);a.call(l)}}co(t,i,e,s)}else i=mp(n,t,e,s,r);return Qs(i)}Yu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=lr(t.pendingLanes);n!==0&&(ti(t,n|1),Me(t,me()),!(te&6)&&(Hn=me()+500,Zt()))}break;case 13:hn(function(){var r=_t(e,1);if(r!==null){var s=Ne();it(r,e,1,s)}}),Ri(e,1)}};ni=function(e){if(e.tag===13){var t=_t(e,134217728);if(t!==null){var n=Ne();it(t,e,134217728,n)}Ri(e,134217728)}};Xu=function(e){if(e.tag===13){var t=Gt(e),n=_t(e,t);if(n!==null){var r=Ne();it(n,e,t,r)}Ri(e,t)}};Zu=function(){return ne};ec=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};ia=function(e,t,n){switch(t){case"input":if(ea(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ro(r);if(!s)throw Error(L(90));Ou(r),ea(r,s)}}}break;case"textarea":Lu(e,n);break;case"select":t=n.value,t!=null&&On(e,!!n.multiple,t,!1)}};Au=Pi;Fu=hn;var yp={usingClientEntryPoint:!1,Events:[Ar,En,ro,zu,Mu,Pi]},rr={findFiberByHostInstance:rn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gp={bundleType:rr.bundleType,version:rr.version,rendererPackageName:rr.rendererPackageName,rendererConfig:rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wu(e),e===null?null:e.stateNode},findFiberByHostInstance:rr.findFiberByHostInstance||pp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ls=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ls.isDisabled&&ls.supportsFiber)try{Zs=ls.inject(gp),gt=ls}catch{}}qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yp;qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ui(t))throw Error(L(200));return hp(e,t,null,n)};qe.createRoot=function(e,t){if(!Ui(e))throw Error(L(299));var n=!1,r="",s=kd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Li(e,1,!1,null,null,n,!1,r,s),e[Pt]=t.current,br(e.nodeType===8?e.parentNode:e),new Bi(t)};qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(L(188)):(e=Object.keys(e).join(","),Error(L(268,e)));return e=Wu(t),e=e===null?null:e.stateNode,e};qe.flushSync=function(e){return hn(e)};qe.hydrate=function(e,t,n){if(!ho(t))throw Error(L(200));return po(null,e,t,!0,n)};qe.hydrateRoot=function(e,t,n){if(!Ui(e))throw Error(L(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=kd;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Td(t,null,e,1,n??null,s,!1,o,i),e[Pt]=t.current,br(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new fo(t)};qe.render=function(e,t,n){if(!ho(t))throw Error(L(200));return po(null,e,t,!1,n)};qe.unmountComponentAtNode=function(e){if(!ho(e))throw Error(L(40));return e._reactRootContainer?(hn(function(){po(null,null,e,!1,function(){e._reactRootContainer=null,e[Pt]=null})}),!0):!1};qe.unstable_batchedUpdates=Pi;qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ho(n))throw Error(L(200));if(e==null||e._reactInternals===void 0)throw Error(L(38));return po(e,t,n,!1,r)};qe.version="18.3.1-next-f1338f8080-20240426";function Sd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Sd)}catch(e){console.error(e)}}Sd(),Su.exports=qe;var xp=Su.exports,Ed,tu=xp;Ed=tu.createRoot,tu.hydrateRoot;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});Di.parse=jp;Di.serialize=$p;const vp=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,wp=/^[\u0021-\u003A\u003C-\u007E]*$/,Tp=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,kp=/^[\u0020-\u003A\u003D-\u007E]*$/,Sp=Object.prototype.toString,Ep=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function jp(e,t){const n=new Ep,r=e.length;if(r<2)return n;const s=(t==null?void 0:t.decode)||bp;let o=0;do{const i=e.indexOf("=",o);if(i===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(i>l){o=e.lastIndexOf(";",i-1)+1;continue}const u=nu(e,o,i),c=ru(e,i,u),d=e.slice(u,c);if(n[d]===void 0){let f=nu(e,i+1,l),g=ru(e,l,f);const w=s(e.slice(f,g));n[d]=w}o=l+1}while(o<r);return n}function nu(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function ru(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function $p(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!vp.test(e))throw new TypeError(`argument name is invalid: ${e}`);const s=r(t);if(!wp.test(s))throw new TypeError(`argument val is invalid: ${t}`);let o=e+"="+s;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);o+="; Max-Age="+n.maxAge}if(n.domain){if(!Tp.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);o+="; Domain="+n.domain}if(n.path){if(!kp.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);o+="; Path="+n.path}if(n.expires){if(!Cp(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return o}function bp(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch{return e}}function Cp(e){return Sp.call(e)==="[object Date]"}var su="popstate";function Pp(e={}){function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return Aa("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ur(s)}return Op(t,n,null,e)}function le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ut(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function _p(){return Math.random().toString(36).substring(2,10)}function ou(e,t){return{usr:e.state,key:e.key,idx:t}}function Aa(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Gn(t):t,state:n,key:t&&t.key||r||_p()}}function Ur({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Gn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Op(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a="POP",l=null,u=c();u==null&&(u=0,i.replaceState({...i.state,idx:u},""));function c(){return(i.state||{idx:null}).idx}function d(){a="POP";let k=c(),p=k==null?null:k-u;u=k,l&&l({action:a,location:x.location,delta:p})}function f(k,p){a="PUSH";let h=Aa(x.location,k,p);u=c()+1;let y=ou(h,u),T=x.createHref(h);try{i.pushState(y,"",T)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(T)}o&&l&&l({action:a,location:x.location,delta:1})}function g(k,p){a="REPLACE";let h=Aa(x.location,k,p);u=c();let y=ou(h,u),T=x.createHref(h);i.replaceState(y,"",T),o&&l&&l({action:a,location:x.location,delta:0})}function w(k){return Np(k)}let x={get action(){return a},get location(){return e(s,i)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(su,d),l=k,()=>{s.removeEventListener(su,d),l=null}},createHref(k){return t(s,k)},createURL:w,encodeLocation(k){let p=w(k);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:f,replace:g,go(k){return i.go(k)}};return x}function Np(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),le(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Ur(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function jd(e,t,n="/"){return Lp(e,t,n,!1)}function Lp(e,t,n,r){let s=typeof t=="string"?Gn(t):t,o=Nt(s.pathname||"/",n);if(o==null)return null;let i=$d(e);Rp(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=Vp(o);a=Hp(i[l],u,r)}return a}function $d(e,t=[],n=[],r=""){let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(le(l.relativePath.startsWith(r),`Absolute route path "${l.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),l.relativePath=l.relativePath.slice(r.length));let u=bt([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(le(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${u}".`),$d(o.children,t,c,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:Fp(u,o.index),routesMeta:c})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of bd(o.path))s(o,i,l)}),t}function bd(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=bd(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function Rp(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ip(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var Bp=/^:[\w-]+$/,Up=3,Dp=2,zp=1,Mp=10,Ap=-2,au=e=>e==="*";function Fp(e,t){let n=e.split("/"),r=n.length;return n.some(au)&&(r+=Ap),t&&(r+=Dp),n.filter(s=>!au(s)).reduce((s,o)=>s+(Bp.test(o)?Up:o===""?zp:Mp),r)}function Ip(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Hp(e,t,n=!1){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=Ks({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&n&&!r[r.length-1].route.index&&(d=Ks({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:bt([o,d.pathname]),pathnameBase:Qp(bt([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=bt([o,d.pathnameBase]))}return i}function Ks(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Wp(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let w=a[f]||"";i=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[f];return d&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function Wp(e,t=!1,n=!0){ut(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Vp(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ut(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Nt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function qp(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Gn(e):e;return{pathname:n?n.startsWith("/")?n:Gp(n,t):t,search:Kp(r),hash:Yp(s)}}function Gp(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Vo(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jp(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function zi(e){let t=Jp(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Mi(e,t,n,r=!1){let s;typeof e=="string"?s=Gn(e):(s={...e},le(!s.pathname||!s.pathname.includes("?"),Vo("?","pathname","search",s)),le(!s.pathname||!s.pathname.includes("#"),Vo("#","pathname","hash",s)),le(!s.search||!s.search.includes("#"),Vo("#","search","hash",s)));let o=e===""||s.pathname==="",i=o?"/":s.pathname,a;if(i==null)a=n;else{let d=t.length-1;if(!r&&i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=qp(s,a),u=i&&i!=="/"&&i.endsWith("/"),c=(o||i===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var bt=e=>e.join("/").replace(/\/\/+/g,"/"),Qp=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Kp=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Yp=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Xp(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Cd=["POST","PUT","PATCH","DELETE"];new Set(Cd);var Zp=["GET",...Cd];new Set(Zp);var Jn=v.createContext(null);Jn.displayName="DataRouter";var mo=v.createContext(null);mo.displayName="DataRouterState";var Pd=v.createContext({isTransitioning:!1});Pd.displayName="ViewTransition";var em=v.createContext(new Map);em.displayName="Fetchers";var tm=v.createContext(null);tm.displayName="Await";var ct=v.createContext(null);ct.displayName="Navigation";var Ir=v.createContext(null);Ir.displayName="Location";var et=v.createContext({outlet:null,matches:[],isDataRoute:!1});et.displayName="Route";var Ai=v.createContext(null);Ai.displayName="RouteError";function nm(e,{relative:t}={}){le(Qn(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=v.useContext(ct),{hash:s,pathname:o,search:i}=Hr(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:bt([n,o])),r.createHref({pathname:a,search:i,hash:s})}function Qn(){return v.useContext(Ir)!=null}function vt(){return le(Qn(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ir).location}var _d="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Od(e){v.useContext(ct).static||v.useLayoutEffect(e)}function yo(){let{isDataRoute:e}=v.useContext(et);return e?gm():rm()}function rm(){le(Qn(),"useNavigate() may be used only in the context of a <Router> component.");let e=v.useContext(Jn),{basename:t,navigator:n}=v.useContext(ct),{matches:r}=v.useContext(et),{pathname:s}=vt(),o=JSON.stringify(zi(r)),i=v.useRef(!1);return Od(()=>{i.current=!0}),v.useCallback((l,u={})=>{if(ut(i.current,_d),!i.current)return;if(typeof l=="number"){n.go(l);return}let c=Mi(l,JSON.parse(o),s,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:bt([t,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[t,n,o,s,e])}var sm=v.createContext(null);function om(e){let t=v.useContext(et).outlet;return t&&v.createElement(sm.Provider,{value:e},t)}function Fi(){let{matches:e}=v.useContext(et),t=e[e.length-1];return t?t.params:{}}function Hr(e,{relative:t}={}){let{matches:n}=v.useContext(et),{pathname:r}=vt(),s=JSON.stringify(zi(n));return v.useMemo(()=>Mi(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function am(e,t){return Nd(e,t)}function Nd(e,t,n,r){var p;le(Qn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=v.useContext(ct),{matches:o}=v.useContext(et),i=o[o.length-1],a=i?i.params:{},l=i?i.pathname:"/",u=i?i.pathnameBase:"/",c=i&&i.route;{let h=c&&c.path||"";Ld(l,!c||h.endsWith("*")||h.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${h}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${h}"> to <Route path="${h==="/"?"*":`${h}/*`}">.`)}let d=vt(),f;if(t){let h=typeof t=="string"?Gn(t):t;le(u==="/"||((p=h.pathname)==null?void 0:p.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${h.pathname}" was given in the \`location\` prop.`),f=h}else f=d;let g=f.pathname||"/",w=g;if(u!=="/"){let h=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(h.length).join("/")}let x=jd(e,{pathname:w});ut(c||x!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),ut(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=dm(x&&x.map(h=>Object.assign({},h,{params:Object.assign({},a,h.params),pathname:bt([u,s.encodeLocation?s.encodeLocation(h.pathname).pathname:h.pathname]),pathnameBase:h.pathnameBase==="/"?u:bt([u,s.encodeLocation?s.encodeLocation(h.pathnameBase).pathname:h.pathnameBase])})),o,n,r);return t&&k?v.createElement(Ir.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},k):k}function im(){let e=ym(),t=Xp(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},i=null;return console.error("Error handled by React Router default ErrorBoundary:",e),i=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:o},"ErrorBoundary")," or"," ",v.createElement("code",{style:o},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),n?v.createElement("pre",{style:s},n):null,i)}var lm=v.createElement(im,null),um=class extends v.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?v.createElement(et.Provider,{value:this.props.routeContext},v.createElement(Ai.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cm({routeContext:e,match:t,children:n}){let r=v.useContext(Jn);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(et.Provider,{value:e},n)}function dm(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,o=n==null?void 0:n.errors;if(o!=null){let l=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);le(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,l+1))}let i=!1,a=-1;if(n)for(let l=0;l<s.length;l++){let u=s[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=n,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){i=!0,a>=0?s=s.slice(0,a+1):s=[s[0]];break}}}return s.reduceRight((l,u,c)=>{let d,f=!1,g=null,w=null;n&&(d=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||lm,i&&(a<0&&c===0?(Ld("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):a===c&&(f=!0,w=u.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,c+1)),k=()=>{let p;return d?p=g:f?p=w:u.route.Component?p=v.createElement(u.route.Component,null):u.route.element?p=u.route.element:p=l,v.createElement(cm,{match:u,routeContext:{outlet:l,matches:x,isDataRoute:n!=null},children:p})};return n&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?v.createElement(um,{location:n.location,revalidation:n.revalidation,component:g,error:d,children:k(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):k()},null)}function Ii(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function fm(e){let t=v.useContext(Jn);return le(t,Ii(e)),t}function hm(e){let t=v.useContext(mo);return le(t,Ii(e)),t}function pm(e){let t=v.useContext(et);return le(t,Ii(e)),t}function Hi(e){let t=pm(e),n=t.matches[t.matches.length-1];return le(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function mm(){return Hi("useRouteId")}function ym(){var r;let e=v.useContext(Ai),t=hm("useRouteError"),n=Hi("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function gm(){let{router:e}=fm("useNavigate"),t=Hi("useNavigate"),n=v.useRef(!1);return Od(()=>{n.current=!0}),v.useCallback(async(s,o={})=>{ut(n.current,_d),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var iu={};function Ld(e,t,n){!t&&!iu[e]&&(iu[e]=!0,ut(!1,n))}v.memo(xm);function xm({routes:e,future:t,state:n}){return Nd(e,void 0,n,t)}function Fa({to:e,replace:t,state:n,relative:r}){le(Qn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=v.useContext(ct);ut(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=v.useContext(et),{pathname:i}=vt(),a=yo(),l=Mi(e,zi(o),i,r==="path"),u=JSON.stringify(l);return v.useEffect(()=>{a(JSON.parse(u),{replace:t,state:n,relative:r})},[a,u,r,t,n]),null}function vm(e){return om(e.context)}function Tt(e){le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function wm({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){le(!Qn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let i=e.replace(/^\/*/,"/"),a=v.useMemo(()=>({basename:i,navigator:s,static:o,future:{}}),[i,s,o]);typeof n=="string"&&(n=Gn(n));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=n,g=v.useMemo(()=>{let w=Nt(l,i);return w==null?null:{location:{pathname:w,search:u,hash:c,state:d,key:f},navigationType:r}},[i,l,u,c,d,f,r]);return ut(g!=null,`<Router basename="${i}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:v.createElement(ct.Provider,{value:a},v.createElement(Ir.Provider,{children:t,value:g}))}function Tm({children:e,location:t}){return am(Ia(e),t)}function Ia(e,t=[]){let n=[];return v.Children.forEach(e,(r,s)=>{if(!v.isValidElement(r))return;let o=[...t,s];if(r.type===v.Fragment){n.push.apply(n,Ia(r.props.children,o));return}le(r.type===Tt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),le(!r.props.index||!r.props.children,"An index route cannot have child routes.");let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Ia(r.props.children,o)),n.push(i)}),n}var Ss="get",Es="application/x-www-form-urlencoded";function go(e){return e!=null&&typeof e.tagName=="string"}function km(e){return go(e)&&e.tagName.toLowerCase()==="button"}function Sm(e){return go(e)&&e.tagName.toLowerCase()==="form"}function Em(e){return go(e)&&e.tagName.toLowerCase()==="input"}function jm(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function $m(e,t){return e.button===0&&(!t||t==="_self")&&!jm(e)}var us=null;function bm(){if(us===null)try{new FormData(document.createElement("form"),0),us=!1}catch{us=!0}return us}var Cm=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qo(e){return e!=null&&!Cm.has(e)?(ut(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Es}"`),null):e}function Pm(e,t){let n,r,s,o,i;if(Sm(e)){let a=e.getAttribute("action");r=a?Nt(a,t):null,n=e.getAttribute("method")||Ss,s=qo(e.getAttribute("enctype"))||Es,o=new FormData(e)}else if(km(e)||Em(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?Nt(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Ss,s=qo(e.getAttribute("formenctype"))||qo(a.getAttribute("enctype"))||Es,o=new FormData(a,e),!bm()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(go(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ss,r=null,s=Es,i=e}return o&&s==="text/plain"&&(i=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:i}}function Wi(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function _m(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Om(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Nm(e,t,n){let r=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let i=await _m(o,n);return i.links?i.links():[]}return[]}));return Um(r.flat(1).filter(Om).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function lu(e,t,n,r,s,o){let i=(l,u)=>n[u]?l.route.id!==n[u].route.id:!0,a=(l,u)=>{var c;return n[u].pathname!==l.pathname||((c=n[u].route.path)==null?void 0:c.endsWith("*"))&&n[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>i(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var d;let c=r.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(i(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((d=n[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function Lm(e,t,{includeHydrateFallback:n}={}){return Rm(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function Rm(e){return[...new Set(e)]}function Bm(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Um(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let o=JSON.stringify(Bm(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Dm=new Set([100,101,204,205]);function zm(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&Nt(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Rd(){let e=v.useContext(Jn);return Wi(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Mm(){let e=v.useContext(mo);return Wi(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vi=v.createContext(void 0);Vi.displayName="FrameworkContext";function Bd(){let e=v.useContext(Vi);return Wi(e,"You must render this element inside a <HydratedRouter> element"),e}function Am(e,t){let n=v.useContext(Vi),[r,s]=v.useState(!1),[o,i]=v.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=v.useRef(null);v.useEffect(()=>{if(e==="render"&&i(!0),e==="viewport"){let x=p=>{p.forEach(h=>{i(h.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return f.current&&k.observe(f.current),()=>{k.disconnect()}}},[e]),v.useEffect(()=>{if(r){let x=setTimeout(()=>{i(!0)},100);return()=>{clearTimeout(x)}}},[r]);let g=()=>{s(!0)},w=()=>{s(!1),i(!1)};return n?e!=="intent"?[o,f,{}]:[o,f,{onFocus:sr(a,g),onBlur:sr(l,w),onMouseEnter:sr(u,g),onMouseLeave:sr(c,w),onTouchStart:sr(d,g)}]:[!1,f,{}]}function sr(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Fm({page:e,...t}){let{router:n}=Rd(),r=v.useMemo(()=>jd(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?v.createElement(Hm,{page:e,matches:r,...t}):null}function Im(e){let{manifest:t,routeModules:n}=Bd(),[r,s]=v.useState([]);return v.useEffect(()=>{let o=!1;return Nm(e,t,n).then(i=>{o||s(i)}),()=>{o=!0}},[e,t,n]),r}function Hm({page:e,matches:t,...n}){let r=vt(),{manifest:s,routeModules:o}=Bd(),{basename:i}=Rd(),{loaderData:a,matches:l}=Mm(),u=v.useMemo(()=>lu(e,t,l,s,r,"data"),[e,t,l,s,r]),c=v.useMemo(()=>lu(e,t,l,s,r,"assets"),[e,t,l,s,r]),d=v.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,x=!1;if(t.forEach(p=>{var y;let h=s.routes[p.route.id];!h||!h.hasLoader||(!u.some(T=>T.route.id===p.route.id)&&p.route.id in a&&((y=o[p.route.id])!=null&&y.shouldRevalidate)||h.hasClientLoader?x=!0:w.add(p.route.id))}),w.size===0)return[];let k=zm(e,i);return x&&w.size>0&&k.searchParams.set("_routes",t.filter(p=>w.has(p.route.id)).map(p=>p.route.id).join(",")),[k.pathname+k.search]},[i,a,r,s,u,t,e,o]),f=v.useMemo(()=>Lm(c,s),[c,s]),g=Im(c);return v.createElement(v.Fragment,null,d.map(w=>v.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),f.map(w=>v.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),g.map(({key:w,link:x})=>v.createElement("link",{key:w,...x})))}function Wm(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Ud=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Ud&&(window.__reactRouterVersion="7.6.2")}catch{}function Vm({basename:e,children:t,window:n}){let r=v.useRef();r.current==null&&(r.current=Pp({window:n,v5Compat:!0}));let s=r.current,[o,i]=v.useState({action:s.action,location:s.location}),a=v.useCallback(l=>{v.startTransition(()=>i(l))},[i]);return v.useLayoutEffect(()=>s.listen(a),[s,a]),v.createElement(wm,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var Dd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yt=v.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:i,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},g){let{basename:w}=v.useContext(ct),x=typeof u=="string"&&Dd.test(u),k,p=!1;if(typeof u=="string"&&x&&(k=u,Ud))try{let D=new URL(window.location.href),R=u.startsWith("//")?new URL(D.protocol+u):new URL(u),W=Nt(R.pathname,w);R.origin===D.origin&&W!=null?u=W+R.search+R.hash:p=!0}catch{ut(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let h=nm(u,{relative:s}),[y,T,j]=Am(r,f),P=Qm(u,{replace:i,state:a,target:l,preventScrollReset:c,relative:s,viewTransition:d});function $(D){t&&t(D),D.defaultPrevented||P(D)}let _=v.createElement("a",{...f,...j,href:k||h,onClick:p||o?t:$,ref:Wm(g,T),target:l,"data-discover":!x&&n==="render"?"true":void 0});return y&&!x?v.createElement(v.Fragment,null,_,v.createElement(Fm,{page:h})):_});yt.displayName="Link";var qm=v.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:i,viewTransition:a,children:l,...u},c){let d=Hr(i,{relative:u.relative}),f=vt(),g=v.useContext(mo),{navigator:w,basename:x}=v.useContext(ct),k=g!=null&&ey(d)&&a===!0,p=w.encodeLocation?w.encodeLocation(d).pathname:d.pathname,h=f.pathname,y=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;n||(h=h.toLowerCase(),y=y?y.toLowerCase():null,p=p.toLowerCase()),y&&x&&(y=Nt(y,x)||y);const T=p!=="/"&&p.endsWith("/")?p.length-1:p.length;let j=h===p||!s&&h.startsWith(p)&&h.charAt(T)==="/",P=y!=null&&(y===p||!s&&y.startsWith(p)&&y.charAt(p.length)==="/"),$={isActive:j,isPending:P,isTransitioning:k},_=j?t:void 0,D;typeof r=="function"?D=r($):D=[r,j?"active":null,P?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let R=typeof o=="function"?o($):o;return v.createElement(yt,{...u,"aria-current":_,className:D,ref:c,style:R,to:i,viewTransition:a},typeof l=="function"?l($):l)});qm.displayName="NavLink";var Gm=v.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:o,method:i=Ss,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},g)=>{let w=Xm(),x=Zm(a,{relative:u}),k=i.toLowerCase()==="get"?"get":"post",p=typeof a=="string"&&Dd.test(a),h=y=>{if(l&&l(y),y.defaultPrevented)return;y.preventDefault();let T=y.nativeEvent.submitter,j=(T==null?void 0:T.getAttribute("formmethod"))||i;w(T||y.currentTarget,{fetcherKey:t,method:j,navigate:n,replace:s,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return v.createElement("form",{ref:g,method:k,action:x,onSubmit:r?l:h,...f,"data-discover":!p&&e==="render"?"true":void 0})});Gm.displayName="Form";function Jm(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zd(e){let t=v.useContext(Jn);return le(t,Jm(e)),t}function Qm(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:i}={}){let a=yo(),l=vt(),u=Hr(e,{relative:o});return v.useCallback(c=>{if($m(c,t)){c.preventDefault();let d=n!==void 0?n:Ur(l)===Ur(u);a(e,{replace:d,state:r,preventScrollReset:s,relative:o,viewTransition:i})}},[l,a,u,n,r,t,e,s,o,i])}var Km=0,Ym=()=>`__${String(++Km)}__`;function Xm(){let{router:e}=zd("useSubmit"),{basename:t}=v.useContext(ct),n=mm();return v.useCallback(async(r,s={})=>{let{action:o,method:i,encType:a,formData:l,body:u}=Pm(r,t);if(s.navigate===!1){let c=s.fetcherKey||Ym();await e.fetch(c,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:l,body:u,formMethod:s.method||i,formEncType:s.encType||a,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function Zm(e,{relative:t}={}){let{basename:n}=v.useContext(ct),r=v.useContext(et);le(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Hr(e||".",{relative:t})},i=vt();if(e==null){o.search=i.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:bt([n,o.pathname])),Ur(o)}function ey(e,t={}){let n=v.useContext(Pd);le(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=zd("useViewTransitionState"),s=Hr(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=Nt(n.currentLocation.pathname,r)||n.currentLocation.pathname,i=Nt(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Ks(s.pathname,i)!=null||Ks(s.pathname,o)!=null}[...Dm];let Md=class Ad{constructor(t,n){this.baseUrl=t.replace(/\/$/,""),this.token=n,this.isBatching=!1,this.batchOperations=[],this.relations={setMetadata:this._relationsSetMetadata.bind(this),deleteMetadata:this._relationsDeleteMetadata.bind(this),setTarget:this._relationsSetTarget.bind(this),get:this._relationsGet.bind(this),delete:this._relationsDelete.bind(this),update:this._relationsUpdate.bind(this),setSource:this._relationsSetSource.bind(this),create:this._relationsCreate.bind(this)},this.spanLayers={setConfig:this._spanLayersSetConfig.bind(this),deleteConfig:this._spanLayersDeleteConfig.bind(this),get:this._spanLayersGet.bind(this),delete:this._spanLayersDelete.bind(this),update:this._spanLayersUpdate.bind(this),create:this._spanLayersCreate.bind(this),shift:this._spanLayersShift.bind(this)},this.spans={setTokens:this._spansSetTokens.bind(this),create:this._spansCreate.bind(this),get:this._spansGet.bind(this),delete:this._spansDelete.bind(this),update:this._spansUpdate.bind(this),bulkCreate:this._spansBulkCreate.bind(this),bulkDelete:this._spansBulkDelete.bind(this),setMetadata:this._spansSetMetadata.bind(this),deleteMetadata:this._spansDeleteMetadata.bind(this)},this.texts={setMetadata:this._textsSetMetadata.bind(this),deleteMetadata:this._textsDeleteMetadata.bind(this),create:this._textsCreate.bind(this),get:this._textsGet.bind(this),delete:this._textsDelete.bind(this),update:this._textsUpdate.bind(this)},this.users={list:this._usersList.bind(this),create:this._usersCreate.bind(this),audit:this._usersAudit.bind(this),get:this._usersGet.bind(this),delete:this._usersDelete.bind(this),update:this._usersUpdate.bind(this)},this.tokenLayers={shift:this._tokenLayersShift.bind(this),create:this._tokenLayersCreate.bind(this),setConfig:this._tokenLayersSetConfig.bind(this),deleteConfig:this._tokenLayersDeleteConfig.bind(this),get:this._tokenLayersGet.bind(this),delete:this._tokenLayersDelete.bind(this),update:this._tokenLayersUpdate.bind(this)},this.documents={audit:this._documentsAudit.bind(this),get:this._documentsGet.bind(this),delete:this._documentsDelete.bind(this),update:this._documentsUpdate.bind(this),create:this._documentsCreate.bind(this)},this.projects={sendMessage:this._projectsSendMessage.bind(this),addWriter:this._projectsAddWriter.bind(this),removeWriter:this._projectsRemoveWriter.bind(this),addReader:this._projectsAddReader.bind(this),removeReader:this._projectsRemoveReader.bind(this),heartbeat:this._projectsHeartbeat.bind(this),listen:this._projectsListen.bind(this),addMaintainer:this._projectsAddMaintainer.bind(this),removeMaintainer:this._projectsRemoveMaintainer.bind(this),audit:this._projectsAudit.bind(this),get:this._projectsGet.bind(this),delete:this._projectsDelete.bind(this),update:this._projectsUpdate.bind(this),list:this._projectsList.bind(this),create:this._projectsCreate.bind(this)},this.textLayers={setConfig:this._textLayersSetConfig.bind(this),deleteConfig:this._textLayersDeleteConfig.bind(this),get:this._textLayersGet.bind(this),delete:this._textLayersDelete.bind(this),update:this._textLayersUpdate.bind(this),shift:this._textLayersShift.bind(this),create:this._textLayersCreate.bind(this)},this.login={create:this._loginCreate.bind(this)},this.bulk={submit:this._bulkSubmit.bind(this)},this.relationLayers={shift:this._relationLayersShift.bind(this),create:this._relationLayersCreate.bind(this),setConfig:this._relationLayersSetConfig.bind(this),deleteConfig:this._relationLayersDeleteConfig.bind(this),get:this._relationLayersGet.bind(this),delete:this._relationLayersDelete.bind(this),update:this._relationLayersUpdate.bind(this)},this.tokens={create:this._tokensCreate.bind(this),get:this._tokensGet.bind(this),delete:this._tokensDelete.bind(this),update:this._tokensUpdate.bind(this),bulkCreate:this._tokensBulkCreate.bind(this),bulkDelete:this._tokensBulkDelete.bind(this),setMetadata:this._tokensSetMetadata.bind(this),deleteMetadata:this._tokensDeleteMetadata.bind(this)}}_transformKeyToCamel(t){return t.replace(/^[^/]+\//,"").replace(/-([a-z])/g,(n,r)=>r.toUpperCase())}_transformKeyFromCamel(t){return t.replace(/[A-Z]/g,n=>"-"+n.toLowerCase())}_transformRequest(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>this._transformRequest(r));if(typeof t!="object")return t;const n={};for(const[r,s]of Object.entries(t)){const o=this._transformKeyFromCamel(r);r==="metadata"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?n[o]=s:n[o]=this._transformRequest(s)}return n}_transformResponse(t){if(t==null)return t;if(Array.isArray(t))return t.map(r=>this._transformResponse(r));if(typeof t!="object")return t;const n={};for(const[r,s]of Object.entries(t)){const o=this._transformKeyToCamel(r);o==="metadata"&&typeof s=="object"&&s!==null&&!Array.isArray(s)?n[o]=s:n[o]=this._transformResponse(s)}return n}beginBatch(){this.isBatching=!0,this.batchOperations=[]}async submitBatch(){if(!this.isBatching)throw new Error("No active batch. Call beginBatch() first.");if(this.batchOperations.length===0)return this.isBatching=!1,[];try{const t=`${this.baseUrl}/api/v1/bulk`,n=this.batchOperations.map(i=>({path:i.path,method:i.method.toUpperCase(),...i.body&&{body:i.body}})),r={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(n)},s=await fetch(t,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${t}`);throw a.status=s.status,a.statusText=s.statusText,a.url=t,a.method="POST",a.responseBody=i,a}return(await s.json()).map(i=>this._transformResponse(i))}finally{this.isBatching=!1,this.batchOperations=[]}}abortBatch(){this.isBatching=!1,this.batchOperations=[]}isBatchMode(){return this.isBatching}async _relationsSetMetadata(t,n){const r=`${this.baseUrl}/api/v1/relations/${t}/metadata`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationsDeleteMetadata(t){const n=`${this.baseUrl}/api/v1/relations/${t}/metadata`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _relationsSetTarget(t,n){const r=`${this.baseUrl}/api/v1/relations/${t}/target`,s={"span-id":n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationsGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/relations/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _relationsDelete(t){const n=`${this.baseUrl}/api/v1/relations/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _relationsUpdate(t,n){const r=`${this.baseUrl}/api/v1/relations/${t}`,s={value:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationsSetSource(t,n){const r=`${this.baseUrl}/api/v1/relations/${t}/source`,s={"span-id":n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationsCreate(t,n,r,s,o=void 0){const i=`${this.baseUrl}/api/v1/relations`,a={"layer-id":t,"source-id":n,"target-id":r,value:s,metadata:o};Object.keys(a).forEach(f=>a[f]===void 0&&delete a[f]);const l=this._transformRequest(a);if(this.isBatching){const f={path:i.replace(this.baseUrl,""),method:"POST",body:l};return this.batchOperations.push(f),{batched:!0}}const u={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(l)},c=await fetch(i,u);if(!c.ok){const f=await c.text().catch(()=>"Unable to read error response"),g=new Error(`HTTP ${c.status} ${c.statusText} at ${i}`);throw g.status=c.status,g.statusText=c.statusText,g.url=i,g.method="POST",g.responseBody=f,g}const d=c.headers.get("content-type");if(d&&d.includes("application/json")){const f=await c.json();return this._transformResponse(f)}return await c.text()}async _spanLayersSetConfig(t,n,r,s){const o=`${this.baseUrl}/api/v1/span-layers/${t}/config/${n}/${r}`,i=s;if(this.isBatching){const c={path:o.replace(this.baseUrl,""),method:"PUT",body:i};return this.batchOperations.push(c),{batched:!0}}const a={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(i)},l=await fetch(o,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${o}`);throw d.status=l.status,d.statusText=l.statusText,d.url=o,d.method="PUT",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _spanLayersDeleteConfig(t,n,r){const s=`${this.baseUrl}/api/v1/span-layers/${t}/config/${n}/${r}`;if(this.isBatching){const l={path:s.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(l),{batched:!0}}const o={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},i=await fetch(s,o);if(!i.ok){const l=await i.text().catch(()=>"Unable to read error response"),u=new Error(`HTTP ${i.status} ${i.statusText} at ${s}`);throw u.status=i.status,u.statusText=i.statusText,u.url=s,u.method="DELETE",u.responseBody=l,u}const a=i.headers.get("content-type");if(a&&a.includes("application/json")){const l=await i.json();return this._transformResponse(l)}return await i.text()}async _spanLayersGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/span-layers/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _spanLayersDelete(t){const n=`${this.baseUrl}/api/v1/span-layers/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _spanLayersUpdate(t,n){const r=`${this.baseUrl}/api/v1/span-layers/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spanLayersCreate(t,n){const r=`${this.baseUrl}/api/v1/span-layers`,s={"token-layer-id":t,name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spanLayersShift(t,n){const r=`${this.baseUrl}/api/v1/span-layers/${t}/shift`,s={direction:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spansSetTokens(t,n){const r=`${this.baseUrl}/api/v1/spans/${t}/tokens`,s={tokens:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spansCreate(t,n,r,s=void 0){const o=`${this.baseUrl}/api/v1/spans`,i={"span-layer-id":t,tokens:n,value:r,metadata:s};Object.keys(i).forEach(d=>i[d]===void 0&&delete i[d]);const a=this._transformRequest(i);if(this.isBatching){const d={path:o.replace(this.baseUrl,""),method:"POST",body:a};return this.batchOperations.push(d),{batched:!0}}const l={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(a)},u=await fetch(o,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${o}`);throw f.status=u.status,f.statusText=u.statusText,f.url=o,f.method="POST",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _spansGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/spans/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _spansDelete(t){const n=`${this.baseUrl}/api/v1/spans/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _spansUpdate(t,n){const r=`${this.baseUrl}/api/v1/spans/${t}`,s={value:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spansBulkCreate(t){const n=`${this.baseUrl}/api/v1/spans/bulk`,r=this._transformRequest(t);if(this.isBatching){const a={path:n.replace(this.baseUrl,""),method:"POST",body:r};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)},o=await fetch(n,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${n}`);throw l.status=o.status,l.statusText=o.statusText,l.url=n,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _spansBulkDelete(t){const n=`${this.baseUrl}/api/v1/spans/bulk`,r=this._transformRequest(t);if(this.isBatching){const a={path:n.replace(this.baseUrl,""),method:"DELETE",body:r};return this.batchOperations.push(a),{batched:!0}}const s={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)},o=await fetch(n,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${n}`);throw l.status=o.status,l.statusText=o.statusText,l.url=n,l.method="DELETE",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _spansSetMetadata(t,n){const r=`${this.baseUrl}/api/v1/spans/${t}/metadata`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _spansDeleteMetadata(t){const n=`${this.baseUrl}/api/v1/spans/${t}/metadata`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _textsSetMetadata(t,n){const r=`${this.baseUrl}/api/v1/texts/${t}/metadata`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _textsDeleteMetadata(t){const n=`${this.baseUrl}/api/v1/texts/${t}/metadata`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _textsCreate(t,n,r,s=void 0){const o=`${this.baseUrl}/api/v1/texts`,i={"text-layer-id":t,"document-id":n,body:r,metadata:s};Object.keys(i).forEach(d=>i[d]===void 0&&delete i[d]);const a=this._transformRequest(i);if(this.isBatching){const d={path:o.replace(this.baseUrl,""),method:"POST",body:a};return this.batchOperations.push(d),{batched:!0}}const l={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(a)},u=await fetch(o,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${o}`);throw f.status=u.status,f.statusText=u.statusText,f.url=o,f.method="POST",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _textsGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/texts/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _textsDelete(t){const n=`${this.baseUrl}/api/v1/texts/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _textsUpdate(t,n){const r=`${this.baseUrl}/api/v1/texts/${t}`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _usersList(t=void 0){const n=`${this.baseUrl}/api/v1/users`,r=new URLSearchParams;t!=null&&r.append("as-of",t);const s=r.toString(),o=s?`${n}?${s}`:n;if(this.isBatching){const u={path:o.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(u),{batched:!0}}const i={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},a=await fetch(o,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${o}`);throw c.status=a.status,c.statusText=a.statusText,c.url=o,c.method="GET",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _usersCreate(t,n,r){const s=`${this.baseUrl}/api/v1/users`,o={username:t,password:n,"is-admin":r};Object.keys(o).forEach(c=>o[c]===void 0&&delete o[c]);const i=this._transformRequest(o);if(this.isBatching){const c={path:s.replace(this.baseUrl,""),method:"POST",body:i};return this.batchOperations.push(c),{batched:!0}}const a={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(i)},l=await fetch(s,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${s}`);throw d.status=l.status,d.statusText=l.statusText,d.url=s,d.method="POST",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _usersAudit(t,n=void 0,r=void 0,s=void 0){const o=`${this.baseUrl}/api/v1/users/${t}/audit`,i=new URLSearchParams;n!=null&&i.append("start-time",n),r!=null&&i.append("end-time",r),s!=null&&i.append("as-of",s);const a=i.toString(),l=a?`${o}?${a}`:o;if(this.isBatching){const f={path:l.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(f),{batched:!0}}const u={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},c=await fetch(l,u);if(!c.ok){const f=await c.text().catch(()=>"Unable to read error response"),g=new Error(`HTTP ${c.status} ${c.statusText} at ${l}`);throw g.status=c.status,g.statusText=c.statusText,g.url=l,g.method="GET",g.responseBody=f,g}const d=c.headers.get("content-type");if(d&&d.includes("application/json")){const f=await c.json();return this._transformResponse(f)}return await c.text()}async _usersGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/users/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _usersDelete(t){const n=`${this.baseUrl}/api/v1/users/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _usersUpdate(t,n=void 0,r=void 0,s=void 0){const o=`${this.baseUrl}/api/v1/users/${t}`,i={password:n,username:r,"is-admin":s};Object.keys(i).forEach(d=>i[d]===void 0&&delete i[d]);const a=this._transformRequest(i);if(this.isBatching){const d={path:o.replace(this.baseUrl,""),method:"PATCH",body:a};return this.batchOperations.push(d),{batched:!0}}const l={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(a)},u=await fetch(o,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${o}`);throw f.status=u.status,f.statusText=u.statusText,f.url=o,f.method="PATCH",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _tokenLayersShift(t,n){const r=`${this.baseUrl}/api/v1/token-layers/${t}/shift`,s={direction:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _tokenLayersCreate(t,n){const r=`${this.baseUrl}/api/v1/token-layers`,s={"text-layer-id":t,name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _tokenLayersSetConfig(t,n,r,s){const o=`${this.baseUrl}/api/v1/token-layers/${t}/config/${n}/${r}`,i=s;if(this.isBatching){const c={path:o.replace(this.baseUrl,""),method:"PUT",body:i};return this.batchOperations.push(c),{batched:!0}}const a={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(i)},l=await fetch(o,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${o}`);throw d.status=l.status,d.statusText=l.statusText,d.url=o,d.method="PUT",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _tokenLayersDeleteConfig(t,n,r){const s=`${this.baseUrl}/api/v1/token-layers/${t}/config/${n}/${r}`;if(this.isBatching){const l={path:s.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(l),{batched:!0}}const o={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},i=await fetch(s,o);if(!i.ok){const l=await i.text().catch(()=>"Unable to read error response"),u=new Error(`HTTP ${i.status} ${i.statusText} at ${s}`);throw u.status=i.status,u.statusText=i.statusText,u.url=s,u.method="DELETE",u.responseBody=l,u}const a=i.headers.get("content-type");if(a&&a.includes("application/json")){const l=await i.json();return this._transformResponse(l)}return await i.text()}async _tokenLayersGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/token-layers/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _tokenLayersDelete(t){const n=`${this.baseUrl}/api/v1/token-layers/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _tokenLayersUpdate(t,n){const r=`${this.baseUrl}/api/v1/token-layers/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _documentsAudit(t,n=void 0,r=void 0,s=void 0){const o=`${this.baseUrl}/api/v1/documents/${t}/audit`,i=new URLSearchParams;n!=null&&i.append("start-time",n),r!=null&&i.append("end-time",r),s!=null&&i.append("as-of",s);const a=i.toString(),l=a?`${o}?${a}`:o;if(this.isBatching){const f={path:l.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(f),{batched:!0}}const u={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},c=await fetch(l,u);if(!c.ok){const f=await c.text().catch(()=>"Unable to read error response"),g=new Error(`HTTP ${c.status} ${c.statusText} at ${l}`);throw g.status=c.status,g.statusText=c.statusText,g.url=l,g.method="GET",g.responseBody=f,g}const d=c.headers.get("content-type");if(d&&d.includes("application/json")){const f=await c.json();return this._transformResponse(f)}return await c.text()}async _documentsGet(t,n=void 0,r=void 0){const s=`${this.baseUrl}/api/v1/documents/${t}`,o=new URLSearchParams;n!=null&&o.append("include-body",n),r!=null&&o.append("as-of",r);const i=o.toString(),a=i?`${s}?${i}`:s;if(this.isBatching){const d={path:a.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(d),{batched:!0}}const l={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},u=await fetch(a,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${a}`);throw f.status=u.status,f.statusText=u.statusText,f.url=a,f.method="GET",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _documentsDelete(t){const n=`${this.baseUrl}/api/v1/documents/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _documentsUpdate(t,n){const r=`${this.baseUrl}/api/v1/documents/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _documentsCreate(t,n){const r=`${this.baseUrl}/api/v1/documents`,s={"project-id":t,name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _projectsSendMessage(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/message`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _projectsAddWriter(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/writers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"POST"};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsRemoveWriter(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/writers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(a),{batched:!0}}const s={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="DELETE",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsAddReader(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/readers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"POST"};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsRemoveReader(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/readers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(a),{batched:!0}}const s={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="DELETE",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsHeartbeat(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/heartbeat`,s={"client-id":n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}_projectsListen(t,n,r=300){const s=Date.now();let o=!1,i=!1,a=null,l={"audit-log":0,message:0,heartbeat:0,connected:0,other:0},u=new AbortController;const c=this,d=async()=>{if(!(!a||i))try{(await fetch(`${this.baseUrl}/api/v1/projects/${t}/heartbeat`,{method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify({"client-id":a}),signal:u.signal})).ok}catch(g){g.name}},f={readyState:0,close:()=>{i||(i=!0,o=!1,f.readyState=2,u.abort())},getStats:()=>({durationSeconds:(Date.now()-s)/1e3,isConnected:o,isClosed:i,clientId:a,events:{...l},readyState:f.readyState})};return r>0&&setTimeout(()=>{i||f.close()},r*1e3),(async()=>{try{const g=`${this.baseUrl}/api/v1/projects/${t}/listen`,w=await fetch(g,{method:"GET",headers:{Authorization:`Bearer ${this.token}`,Accept:"text/event-stream","Cache-Control":"no-cache"},signal:u.signal});if(!w.ok)throw new Error(`HTTP ${w.status} ${w.statusText}`);o=!0,f.readyState=1;const x=w.body.getReader(),k=new TextDecoder;let p="";for(;;){const{done:h,value:y}=await x.read();if(h||i)break;p+=k.decode(y,{stream:!0});const T=p.split(`
`);p=T.pop()||"";let j="",P="";for(const $ of T)if($.startsWith("event: "))j=$.slice(7).trim();else if($.startsWith("data: "))P=$.slice(6);else if($===""&&j&&P){try{if(l[j]=(l[j]||0)+1,j==="connected"){const _=JSON.parse(P);a=_["client-id"]||_.clientId}else if(j==="heartbeat")d();else{const _=JSON.parse(P);n(j,c._transformResponse(_))}}catch{}j="",P=""}}}catch{}finally{o=!1,i=!0,f.readyState=2}})(),f}async _projectsAddMaintainer(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/maintainers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"POST"};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsRemoveMaintainer(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}/maintainers/${n}`;if(this.isBatching){const a={path:r.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(a),{batched:!0}}const s={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},o=await fetch(r,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${r}`);throw l.status=o.status,l.statusText=o.statusText,l.url=r,l.method="DELETE",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _projectsAudit(t,n=void 0,r=void 0,s=void 0){const o=`${this.baseUrl}/api/v1/projects/${t}/audit`,i=new URLSearchParams;n!=null&&i.append("start-time",n),r!=null&&i.append("end-time",r),s!=null&&i.append("as-of",s);const a=i.toString(),l=a?`${o}?${a}`:o;if(this.isBatching){const f={path:l.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(f),{batched:!0}}const u={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},c=await fetch(l,u);if(!c.ok){const f=await c.text().catch(()=>"Unable to read error response"),g=new Error(`HTTP ${c.status} ${c.statusText} at ${l}`);throw g.status=c.status,g.statusText=c.statusText,g.url=l,g.method="GET",g.responseBody=f,g}const d=c.headers.get("content-type");if(d&&d.includes("application/json")){const f=await c.json();return this._transformResponse(f)}return await c.text()}async _projectsGet(t,n=void 0,r=void 0){const s=`${this.baseUrl}/api/v1/projects/${t}`,o=new URLSearchParams;n!=null&&o.append("include-documents",n),r!=null&&o.append("as-of",r);const i=o.toString(),a=i?`${s}?${i}`:s;if(this.isBatching){const d={path:a.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(d),{batched:!0}}const l={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},u=await fetch(a,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${a}`);throw f.status=u.status,f.statusText=u.statusText,f.url=a,f.method="GET",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _projectsDelete(t){const n=`${this.baseUrl}/api/v1/projects/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _projectsUpdate(t,n){const r=`${this.baseUrl}/api/v1/projects/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _projectsList(t=void 0){const n=`${this.baseUrl}/api/v1/projects`,r=new URLSearchParams;t!=null&&r.append("as-of",t);const s=r.toString(),o=s?`${n}?${s}`:n;if(this.isBatching){const u={path:o.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(u),{batched:!0}}const i={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},a=await fetch(o,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${o}`);throw c.status=a.status,c.statusText=a.statusText,c.url=o,c.method="GET",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _projectsCreate(t){const n=`${this.baseUrl}/api/v1/projects`,r={name:t};Object.keys(r).forEach(l=>r[l]===void 0&&delete r[l]);const s=this._transformRequest(r);if(this.isBatching){const l={path:n.replace(this.baseUrl,""),method:"POST",body:s};return this.batchOperations.push(l),{batched:!0}}const o={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(s)},i=await fetch(n,o);if(!i.ok){const l=await i.text().catch(()=>"Unable to read error response"),u=new Error(`HTTP ${i.status} ${i.statusText} at ${n}`);throw u.status=i.status,u.statusText=i.statusText,u.url=n,u.method="POST",u.responseBody=l,u}const a=i.headers.get("content-type");if(a&&a.includes("application/json")){const l=await i.json();return this._transformResponse(l)}return await i.text()}async _textLayersSetConfig(t,n,r,s){const o=`${this.baseUrl}/api/v1/text-layers/${t}/config/${n}/${r}`,i=s;if(this.isBatching){const c={path:o.replace(this.baseUrl,""),method:"PUT",body:i};return this.batchOperations.push(c),{batched:!0}}const a={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(i)},l=await fetch(o,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${o}`);throw d.status=l.status,d.statusText=l.statusText,d.url=o,d.method="PUT",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _textLayersDeleteConfig(t,n,r){const s=`${this.baseUrl}/api/v1/text-layers/${t}/config/${n}/${r}`;if(this.isBatching){const l={path:s.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(l),{batched:!0}}const o={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},i=await fetch(s,o);if(!i.ok){const l=await i.text().catch(()=>"Unable to read error response"),u=new Error(`HTTP ${i.status} ${i.statusText} at ${s}`);throw u.status=i.status,u.statusText=i.statusText,u.url=s,u.method="DELETE",u.responseBody=l,u}const a=i.headers.get("content-type");if(a&&a.includes("application/json")){const l=await i.json();return this._transformResponse(l)}return await i.text()}async _textLayersGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/text-layers/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _textLayersDelete(t){const n=`${this.baseUrl}/api/v1/text-layers/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _textLayersUpdate(t,n){const r=`${this.baseUrl}/api/v1/text-layers/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _textLayersShift(t,n){const r=`${this.baseUrl}/api/v1/text-layers/${t}/shift`,s={direction:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _textLayersCreate(t,n){const r=`${this.baseUrl}/api/v1/text-layers`,s={"project-id":t,name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _loginCreate(t,n){const r=`${this.baseUrl}/api/v1/login`,s={username:t,password:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _bulkSubmit(t){const n=`${this.baseUrl}/api/v1/bulk`,r=this._transformRequest(t);if(this.isBatching){const a={path:n.replace(this.baseUrl,""),method:"POST",body:r};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)},o=await fetch(n,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${n}`);throw l.status=o.status,l.statusText=o.statusText,l.url=n,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _relationLayersShift(t,n){const r=`${this.baseUrl}/api/v1/relation-layers/${t}/shift`,s={direction:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationLayersCreate(t,n){const r=`${this.baseUrl}/api/v1/relation-layers`,s={"span-layer-id":t,name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"POST",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="POST",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _relationLayersSetConfig(t,n,r,s){const o=`${this.baseUrl}/api/v1/relation-layers/${t}/config/${n}/${r}`,i=s;if(this.isBatching){const c={path:o.replace(this.baseUrl,""),method:"PUT",body:i};return this.batchOperations.push(c),{batched:!0}}const a={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(i)},l=await fetch(o,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${o}`);throw d.status=l.status,d.statusText=l.statusText,d.url=o,d.method="PUT",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _relationLayersDeleteConfig(t,n,r){const s=`${this.baseUrl}/api/v1/relation-layers/${t}/config/${n}/${r}`;if(this.isBatching){const l={path:s.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(l),{batched:!0}}const o={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},i=await fetch(s,o);if(!i.ok){const l=await i.text().catch(()=>"Unable to read error response"),u=new Error(`HTTP ${i.status} ${i.statusText} at ${s}`);throw u.status=i.status,u.statusText=i.statusText,u.url=s,u.method="DELETE",u.responseBody=l,u}const a=i.headers.get("content-type");if(a&&a.includes("application/json")){const l=await i.json();return this._transformResponse(l)}return await i.text()}async _relationLayersGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/relation-layers/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _relationLayersDelete(t){const n=`${this.baseUrl}/api/v1/relation-layers/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _relationLayersUpdate(t,n){const r=`${this.baseUrl}/api/v1/relation-layers/${t}`,s={name:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PATCH",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PATCH",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _tokensCreate(t,n,r,s,o=void 0,i=void 0){const a=`${this.baseUrl}/api/v1/tokens`,l={"token-layer-id":t,"text-id":n,begin:r,end:s,precedence:o,metadata:i};Object.keys(l).forEach(g=>l[g]===void 0&&delete l[g]);const u=this._transformRequest(l);if(this.isBatching){const g={path:a.replace(this.baseUrl,""),method:"POST",body:u};return this.batchOperations.push(g),{batched:!0}}const c={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(u)},d=await fetch(a,c);if(!d.ok){const g=await d.text().catch(()=>"Unable to read error response"),w=new Error(`HTTP ${d.status} ${d.statusText} at ${a}`);throw w.status=d.status,w.statusText=d.statusText,w.url=a,w.method="POST",w.responseBody=g,w}const f=d.headers.get("content-type");if(f&&f.includes("application/json")){const g=await d.json();return this._transformResponse(g)}return await d.text()}async _tokensGet(t,n=void 0){const r=`${this.baseUrl}/api/v1/tokens/${t}`,s=new URLSearchParams;n!=null&&s.append("as-of",n);const o=s.toString(),i=o?`${r}?${o}`:r;if(this.isBatching){const c={path:i.replace(this.baseUrl,""),method:"GET"};return this.batchOperations.push(c),{batched:!0}}const a={method:"GET",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},l=await fetch(i,a);if(!l.ok){const c=await l.text().catch(()=>"Unable to read error response"),d=new Error(`HTTP ${l.status} ${l.statusText} at ${i}`);throw d.status=l.status,d.statusText=l.statusText,d.url=i,d.method="GET",d.responseBody=c,d}const u=l.headers.get("content-type");if(u&&u.includes("application/json")){const c=await l.json();return this._transformResponse(c)}return await l.text()}async _tokensDelete(t){const n=`${this.baseUrl}/api/v1/tokens/${t}`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}async _tokensUpdate(t,n=void 0,r=void 0,s=void 0){const o=`${this.baseUrl}/api/v1/tokens/${t}`,i={begin:n,end:r,precedence:s};Object.keys(i).forEach(d=>i[d]===void 0&&delete i[d]);const a=this._transformRequest(i);if(this.isBatching){const d={path:o.replace(this.baseUrl,""),method:"PATCH",body:a};return this.batchOperations.push(d),{batched:!0}}const l={method:"PATCH",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(a)},u=await fetch(o,l);if(!u.ok){const d=await u.text().catch(()=>"Unable to read error response"),f=new Error(`HTTP ${u.status} ${u.statusText} at ${o}`);throw f.status=u.status,f.statusText=u.statusText,f.url=o,f.method="PATCH",f.responseBody=d,f}const c=u.headers.get("content-type");if(c&&c.includes("application/json")){const d=await u.json();return this._transformResponse(d)}return await u.text()}async _tokensBulkCreate(t){const n=`${this.baseUrl}/api/v1/tokens/bulk`,r=this._transformRequest(t);if(this.isBatching){const a={path:n.replace(this.baseUrl,""),method:"POST",body:r};return this.batchOperations.push(a),{batched:!0}}const s={method:"POST",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)},o=await fetch(n,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${n}`);throw l.status=o.status,l.statusText=o.statusText,l.url=n,l.method="POST",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _tokensBulkDelete(t){const n=`${this.baseUrl}/api/v1/tokens/bulk`,r=this._transformRequest(t);if(this.isBatching){const a={path:n.replace(this.baseUrl,""),method:"DELETE",body:r};return this.batchOperations.push(a),{batched:!0}}const s={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(r)},o=await fetch(n,s);if(!o.ok){const a=await o.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${o.status} ${o.statusText} at ${n}`);throw l.status=o.status,l.statusText=o.statusText,l.url=n,l.method="DELETE",l.responseBody=a,l}const i=o.headers.get("content-type");if(i&&i.includes("application/json")){const a=await o.json();return this._transformResponse(a)}return await o.text()}async _tokensSetMetadata(t,n){const r=`${this.baseUrl}/api/v1/tokens/${t}/metadata`,s={body:n};Object.keys(s).forEach(u=>s[u]===void 0&&delete s[u]);const o=this._transformRequest(s);if(this.isBatching){const u={path:r.replace(this.baseUrl,""),method:"PUT",body:o};return this.batchOperations.push(u),{batched:!0}}const i={method:"PUT",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"},body:JSON.stringify(o)},a=await fetch(r,i);if(!a.ok){const u=await a.text().catch(()=>"Unable to read error response"),c=new Error(`HTTP ${a.status} ${a.statusText} at ${r}`);throw c.status=a.status,c.statusText=a.statusText,c.url=r,c.method="PUT",c.responseBody=u,c}const l=a.headers.get("content-type");if(l&&l.includes("application/json")){const u=await a.json();return this._transformResponse(u)}return await a.text()}async _tokensDeleteMetadata(t){const n=`${this.baseUrl}/api/v1/tokens/${t}/metadata`;if(this.isBatching){const i={path:n.replace(this.baseUrl,""),method:"DELETE"};return this.batchOperations.push(i),{batched:!0}}const r={method:"DELETE",headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"application/json"}},s=await fetch(n,r);if(!s.ok){const i=await s.text().catch(()=>"Unable to read error response"),a=new Error(`HTTP ${s.status} ${s.statusText} at ${n}`);throw a.status=s.status,a.statusText=s.statusText,a.url=n,a.method="DELETE",a.responseBody=i,a}const o=s.headers.get("content-type");if(o&&o.includes("application/json")){const i=await s.json();return this._transformResponse(i)}return await s.text()}static async login(t,n,r){const s=await fetch(`${t}/api/v1/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:r})});if(!s.ok){const a=await s.text().catch(()=>"Unable to read error response"),l=new Error(`HTTP ${s.status} ${s.statusText} at ${t}/api/v1/login`);throw l.status=s.status,l.statusText=s.statusText,l.url=`${t}/api/v1/login`,l.method="POST",l.responseBody=a,l}const i=(await s.json()).token||"";return new Ad(t,i)}};typeof js<"u"&&js.exports&&(js.exports=Md);typeof window<"u"&&(window.PlaidClient=Md);const uu=window.PlaidClient,cu=window.location.origin;let xn=null;const cs={async login(e,t){try{xn=await uu.login(cu,e,t);const n=xn.token;return localStorage.setItem("token",n),localStorage.setItem("username",e),{success:!0,username:e}}catch(n){throw console.error("Login failed:",n),n}},logout(){xn=null,localStorage.removeItem("token"),localStorage.removeItem("username"),window.location.href="/login"},getCurrentUser(){const e=localStorage.getItem("username");return e?{username:e}:null},getToken(){return localStorage.getItem("token")},isAuthenticated(){return!!this.getToken()},getClient(){const e=localStorage.getItem("token");return!xn&&e&&(xn=new uu(cu,e)),xn}},Fd=v.createContext(null),dt=()=>{const e=v.useContext(Fd);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ty=({children:e})=>{const[t,n]=v.useState(null),[r,s]=v.useState(!0);v.useEffect(()=>{const l=cs.getCurrentUser();l&&n(l),s(!1)},[]);const a={user:t,login:async(l,u)=>{try{const c=await cs.login(l,u);return n({username:l}),{success:!0}}catch(c){return{success:!1,error:c.message||"Login failed"}}},logout:()=>{cs.logout(),n(null)},isAuthenticated:!!t,loading:r,getClient:()=>{if(!t)throw new Error("Not authenticated");return cs.getClient()}};return m.jsx(Fd.Provider,{value:a,children:e})},ny=()=>{const{user:e,logout:t}=dt(),n=yo(),r=vt(),s=()=>{t(),n("/login")},o=r.pathname.includes("/annotate");return m.jsxs("div",{className:"flex flex-col min-h-screen",children:[m.jsx("header",{className:"bg-white border-b border-gray-200",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"UD Editor"}),e&&m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("span",{className:"text-sm text-gray-600",children:[" ",e.username]}),m.jsx("button",{onClick:s,className:"text-sm text-gray-700 hover:text-gray-900 px-3 py-1.5 rounded-md hover:bg-gray-100 transition-colors",children:"Logout"})]})]})})}),m.jsx("main",{className:o?"flex-1":"flex-1 max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsx(vm,{})})]})},ry=({children:e})=>{const{isAuthenticated:t,loading:n}=dt();return n?m.jsx("div",{className:"loading-container",children:"Loading..."}):t?e:m.jsx(Fa,{to:"/login",replace:!0})},sy=()=>{const[e,t]=v.useState(""),[n,r]=v.useState(""),[s,o]=v.useState(""),[i,a]=v.useState(!1),l=yo(),{login:u}=dt(),c=async d=>{d.preventDefault(),o(""),a(!0);try{const f=await u(e,n);f.success?l("/projects"):o(f.error||"Login failed. Please check your credentials.")}catch{o("An unexpected error occurred. Please try again.")}finally{a(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-center text-3xl font-bold text-gray-900",children:"UD Editor Login"}),m.jsx("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Universal Dependencies Tree Editor"})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[s&&m.jsx("div",{className:"rounded-md bg-red-50 p-4",children:m.jsx("p",{className:"text-sm text-red-800",children:s})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),m.jsx("input",{id:"username",type:"text",value:e,onChange:d=>t(d.target.value),required:!0,autoFocus:!0,disabled:i,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),m.jsx("input",{id:"password",type:"password",value:n,onChange:d=>r(d.target.value),required:!0,disabled:i,className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]})]}),m.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-gray-800 hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:i?"Logging in...":"Login"})]})]})})},oy=({onClose:e,onSuccess:t})=>{const[n,r]=v.useState(""),[s,o]=v.useState(!1),[i,a]=v.useState(""),{getClient:l}=dt(),u=async()=>{const d=l(),f=await d.projects.create(n),g=await d.textLayers.create(f.id,"Text"),w=await d.tokenLayers.create(g.id,"Token"),x=["Ellipsis Form","Multi-word Tokens","Lemma","XPOS","UPOS","Features","Head","Sentence"],k=[];for(const h of x)k.push(await d.spanLayers.create(w.id,h));const p=k[2];return await d.relationLayers.create(p.id,"Relation"),f},c=async d=>{if(d.preventDefault(),!n.trim()){a("Project name is required");return}o(!0),a("");try{await u(),t()}catch(f){a("Failed to create project with layers"),console.error("Error creating project:",f)}finally{o(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New UD Project"}),m.jsxs("form",{onSubmit:c,children:[i&&m.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:m.jsx("p",{className:"text-sm text-red-800",children:i})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"projectName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Project Name"}),m.jsx("input",{id:"projectName",type:"text",value:n,onChange:d=>r(d.target.value),placeholder:"Enter project name",required:!0,autoFocus:!0,disabled:s,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),m.jsxs("div",{className:"bg-gray-50 rounded-md p-4 mb-6 text-sm text-gray-600",children:["This will create a new project with all necessary layers for Universal Dependencies annotation:",m.jsxs("ul",{className:"mt-2 ml-4 list-disc space-y-1",children:[m.jsx("li",{children:"Text and Token layers"}),m.jsx("li",{children:"Span layers for: Lemma, UPOS, XPOS, Features, etc."}),m.jsx("li",{children:"Relation layer for dependency parsing"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:e,disabled:s,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:s,className:"px-4 py-2 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:s?"Creating...":"Create Project"})]})]})]})})},ay=()=>{const[e,t]=v.useState([]),[n,r]=v.useState(!0),[s,o]=v.useState(""),[i,a]=v.useState(!1),{getClient:l}=dt(),u=async()=>{try{r(!0);const f=l();if(!f)throw new Error("Not authenticated");const g=await f.projects.list();t(g),o("")}catch(f){if(f.message==="Not authenticated"||f.status===401){window.location.href="/login";return}o("Failed to load projects"),console.error("Error fetching projects:",f)}finally{r(!1)}};v.useEffect(()=>{u()},[]);const c=async(f,g)=>{if(confirm(`Are you sure you want to delete project "${g}"? This action cannot be undone.`))try{await l().projects.delete(f),await u()}catch(w){o("Failed to delete project"),console.error("Error deleting project:",w)}},d=()=>{a(!1),u()};return n?m.jsx("div",{className:"text-center text-gray-600 py-8",children:"Loading projects..."}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Projects"}),m.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors text-sm font-medium",onClick:()=>a(!0),children:"+ New UD Project"})]}),s&&m.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:m.jsx("p",{className:"text-sm text-red-800",children:s})}),i&&m.jsx(oy,{onClose:()=>a(!1),onSuccess:d}),e.length===0?m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-500",children:"No projects yet. Create your first UD project to get started!"})}):m.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(f=>m.jsx("li",{className:"hover:bg-gray-50 transition-colors",children:m.jsx("div",{className:"px-4 py-4 sm:px-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:f.name}),m.jsxs("div",{className:"mt-1 flex items-center gap-4 text-sm text-gray-500",children:[m.jsxs("span",{children:["ID: ",f.id]}),f.documents&&m.jsxs("span",{children:[f.documents.length," document",f.documents.length!==1?"s":""]})]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(yt,{to:`/projects/${f.id}/documents`,className:"px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"View Documents"}),m.jsx("button",{className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",onClick:()=>c(f.id,f.name),children:"Delete"})]})]})})},f.id))})})]})},iy=({projectId:e,onClose:t,onSuccess:n})=>{const[r,s]=v.useState(""),[o,i]=v.useState(!1),[a,l]=v.useState(""),{getClient:u}=dt(),c=async d=>{if(d.preventDefault(),!r.trim()){l("Document name is required");return}i(!0),l("");try{await u().documents.create(e,r),n()}catch(f){l("Failed to create document"),console.error("Error creating document:",f)}finally{i(!1)}};return m.jsx("div",{className:"fixed inset-0 bg-gray-500 bg-opacity-75 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full p-6",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Create New Document"}),m.jsxs("form",{onSubmit:c,children:[a&&m.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:m.jsx("p",{className:"text-sm text-red-800",children:a})}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"documentName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Document Name"}),m.jsx("input",{id:"documentName",type:"text",value:r,onChange:d=>s(d.target.value),placeholder:"Enter document name",required:!0,autoFocus:!0,disabled:o,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm disabled:bg-gray-100 disabled:cursor-not-allowed"})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:t,disabled:o,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed transition-colors",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:o,className:"px-4 py-2 text-sm font-medium text-white bg-gray-900 border border-transparent rounded-md hover:bg-gray-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:o?"Creating...":"Create Document"})]})]})]})})},ly=()=>{const{projectId:e}=Fi(),[t,n]=v.useState(null),[r,s]=v.useState([]),[o,i]=v.useState(!0),[a,l]=v.useState(""),[u,c]=v.useState(!1),{getClient:d}=dt(),f=async()=>{try{i(!0);const x=d();if(!x)throw new Error("Not authenticated");const k=await x.projects.get(e,!0);n(k),s(k.documents||[]),l("")}catch(x){if(x.message==="Not authenticated"||x.status===401){window.location.href="/login";return}l("Failed to load project and documents"),console.error("Error fetching project:",x)}finally{i(!1)}};v.useEffect(()=>{f()},[e]);const g=async(x,k)=>{if(confirm(`Are you sure you want to delete document "${k}"? This action cannot be undone.`))try{await d().documents.delete(x),await f()}catch(p){l("Failed to delete document"),console.error("Error deleting document:",p)}},w=()=>{c(!1),f()};return o?m.jsx("div",{className:"text-center text-gray-600 py-8",children:"Loading documents..."}):t?m.jsxs("div",{children:[m.jsxs("nav",{className:"flex items-center text-sm text-gray-500 mb-6",children:[m.jsx(yt,{to:"/projects",className:"text-blue-600 hover:text-blue-800",children:"Projects"}),m.jsx("span",{className:"mx-2",children:"/"}),m.jsx("span",{className:"text-gray-900",children:t.name})]}),m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Documents in ",t.name]}),m.jsx("button",{className:"px-4 py-2 bg-gray-900 text-white rounded-md hover:bg-gray-800 transition-colors text-sm font-medium",onClick:()=>c(!0),children:"+ New Document"})]}),a&&m.jsx("div",{className:"rounded-md bg-red-50 p-4 mb-4",children:m.jsx("p",{className:"text-sm text-red-800",children:a})}),u&&m.jsx(iy,{projectId:e,onClose:()=>c(!1),onSuccess:w}),r.length===0?m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-500",children:"No documents yet. Create your first document to start annotating!"})}):m.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:m.jsx("ul",{className:"divide-y divide-gray-200",children:r.map(x=>m.jsx("li",{className:"hover:bg-gray-50 transition-colors",children:m.jsx("div",{className:"px-4 py-4 sm:px-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900",children:x.name}),m.jsxs("p",{className:"mt-1 text-sm text-gray-500",children:["ID: ",x.id]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(yt,{to:`/projects/${e}/documents/${x.id}/edit`,className:"px-3 py-1.5 text-sm text-gray-700 hover:text-gray-900 hover:bg-gray-100 rounded-md transition-colors",children:"Edit Text"}),m.jsx(yt,{to:`/projects/${e}/documents/${x.id}/annotate`,className:"px-3 py-1.5 text-sm text-green-600 hover:text-green-800 hover:bg-green-50 rounded-md transition-colors",children:"Annotate"}),m.jsx("button",{className:"px-3 py-1.5 text-sm text-red-600 hover:text-red-800 hover:bg-red-50 rounded-md transition-colors",onClick:()=>g(x.id,x.name),children:"Delete"})]})]})})},x.id))})})]}):m.jsx("div",{className:"rounded-md bg-red-50 p-4",children:m.jsx("p",{className:"text-sm text-red-800",children:"Project not found"})})},uy=({text:e,originalText:t,tokens:n,sentenceSpans:r=[],onTokenUpdate:s,onTokenDelete:o,onTokenCreate:i,onSentenceToggle:a})=>{const[l,u]=v.useState(null),[c,d]=v.useState(null),[f,g]=v.useState(""),[w,x]=v.useState(""),k=v.useRef(null),p=v.useRef(null),h=v.useRef(null),y=t&&e!==t,T=async E=>{if(!l||c||y)return;const{key:b}=E;let C=l.begin,B=l.end;switch(b){case"s":C=l.begin-1;break;case"S":C=l.begin+1;break;case"d":B=l.end+1;break;case"D":B=l.end-1;break;default:return}if(!(C<0||B>e.length||C>B)&&(C!==l.begin||B!==l.end)){E.preventDefault();try{await s(l.id,C,B),u({...l,begin:C,end:B})}catch(U){console.error("Token update failed:",U)}}};v.useEffect(()=>(document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}),[l,c,y,e,s]);const j=E=>{y||(k.current&&clearTimeout(k.current),k.current=setTimeout(()=>{u(E)},400))},P=()=>{k.current&&clearTimeout(k.current),p.current=setTimeout(()=>{u(null)},300)},$=()=>{p.current&&clearTimeout(p.current)},_=()=>{u(null)},D=E=>{d(E),g(E.begin.toString()),x(E.end.toString()),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)},R=async E=>{try{await o(E.id),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)}catch(b){console.error("Token deletion failed:",b)}},W=()=>{d(null),g(""),x(""),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)},fe=async()=>{const E=parseInt(f),b=parseInt(w);if(!(isNaN(E)||isNaN(b))&&!(E<0)&&!(b>e.length)&&!(b-E<0))try{await s(c.id,E,b),d(null),g(""),x(""),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)}catch(C){console.error("Token update failed:",C),W()}},Z=()=>{const E=window.getSelection();if(!E||E.rangeCount===0)return;const b=E.getRangeAt(0);if(!b||b.collapsed)return;const C=h.current;if(!C||!C.contains(b.commonAncestorContainer))return;const B=b.toString();if(!B||B.length===0)return;console.log("Selected text:",JSON.stringify(B));const U=[];let H=0;const M=document.createTreeWalker(C,NodeFilter.SHOW_TEXT,{acceptNode:q=>{const V=q.parentElement;return V&&V.classList.contains("absolute")?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}},!1);let A;for(;A=M.nextNode();){const q=A.textContent;for(let V=0;V<q.length;V++)U.push({node:A,nodeOffset:V,textPosition:H}),H++}console.log("Text position map length:",U.length,"Original text length:",e.length);let O=-1,G=-1;for(let q=0;q<U.length;q++){const V=U[q];if(V.node===b.startContainer&&V.nodeOffset===b.startOffset&&(O=V.textPosition),V.node===b.endContainer&&V.nodeOffset===b.endOffset){G=V.textPosition;break}}if(G===-1&&b.endContainer===C&&(console.log("Selection ends at container, using text length"),G=e.length),G===-1&&b.endContainer.nodeType===Node.TEXT_NODE){const q=b.endContainer,V=b.endOffset;for(let S=0;S<U.length;S++){const N=U[S];if(N.node===q&&N.nodeOffset===V-1){G=N.textPosition+1;break}}}if(console.log("Calculated positions:",{selectionStart:O,selectionEnd:G}),O===-1||G===-1||O>=G){console.log("Invalid selection positions");return}const Q=e.slice(O,G);if(console.log("Calculated text:",JSON.stringify(Q)),Q!==B){console.log("Text mismatch, falling back to first occurrence");const q=e.indexOf(B);if(q===-1)return;O=q,G=q+B.length}if(n.some(q=>O<q.end&&G>q.begin)){alert("Cannot create token: selection overlaps with existing tokens");return}console.log("Final selection positions:",{selectionStart:O,selectionEnd:G,selectedText:e.slice(O,G)}),i&&i(O,G),E.removeAllRanges()};if(!e)return m.jsx("div",{className:"text-center py-8 text-gray-500",children:m.jsx("p",{children:"No text to visualize"})});if(n.length===0)return m.jsxs("div",{children:[m.jsx("div",{ref:h,className:"p-4 bg-white rounded border border-gray-200 font-mono text-sm whitespace-pre-wrap select-text",onMouseUp:Z,children:e}),m.jsx("p",{className:"mt-4 text-sm text-gray-500 text-center",children:'No tokens yet. Click "Whitespace Tokenize" to create tokens, or select text to create individual tokens.'})]});const _e=[...((E,b,C)=>{if(!b||b===C)return E;const U=((M,A)=>{let O=0;for(;O<Math.min(M.length,A.length)&&M[O]===A[O];)O++;return O})(b,C),H=C.length-b.length;return E.map(M=>{const A=b.slice(M.begin,M.end);if(M.end<=U)return M;if(M.begin>=U){const J=M.begin+H,q=M.end+H;if(J>=0&&q<=C.length&&C.slice(J,q)===A)return{...M,begin:J,end:q,adjusted:!0}}let O=null,G=0,Q=0;for(;;){const J=C.indexOf(A,Q);if(J===-1)break;const V=1e3-Math.abs(J-M.begin);V>G&&(G=V,O={begin:J,end:J+A.length}),Q=J+1}if(O)return{...M,begin:O.begin,end:O.end,adjusted:!0};for(let J=Math.max(2,Math.floor(A.length*.6));J>=2;J--){if(J<A.length){const q=A.slice(-J),V=C.indexOf(q);if(V!==-1)return{...M,begin:V,end:V+q.length,adjusted:!0}}if(J<A.length){const q=A.slice(0,J),V=C.indexOf(q);if(V!==-1)return{...M,begin:V,end:V+q.length,adjusted:!0}}}return{...M,invalid:!0,originalText:A}})})(n,t,e)].sort((E,b)=>E.invalid&&!b.invalid?1:!E.invalid&&b.invalid?-1:E.begin-b.begin),Ae=()=>{const E=new Set(r.map(U=>U.tokens&&U.tokens.length>0?U.tokens[0]:U.begin).filter(U=>U!=null)),b=[];let C=[],B=0;return _e.forEach(U=>{U.invalid||(E.has(U.id)&&C.length>0&&(b.push({tokens:C,number:B}),C=[],B++),C.push(U))}),C.length>0&&b.push({tokens:C,number:B}),b.length===0&&_e.filter(U=>!U.invalid).length>0&&b.push({tokens:_e.filter(U=>!U.invalid),number:0}),b.map((U,H)=>{const M=[];let A=H===0?0:b[H-1].tokens[b[H-1].tokens.length-1].end;if(U.tokens.forEach((O,G)=>{const Q=E.has(O.id);if(O.begin>A){const S=e.slice(A,O.begin);M.push(m.jsx("span",{className:"text-gray-400",children:S},`between-${H}-${G}`))}const J=e.slice(O.begin,O.end),V=O.begin===O.end?"":J;M.push(m.jsxs("span",{className:`relative inline-block px-1 py-0.5 mx-0.5 bg-blue-100 border rounded cursor-pointer hover:bg-blue-200 transition-colors whitespace-pre ${Q?"border-green-500 border-2":"border-blue-300"}`,onMouseEnter:()=>j(O),onMouseLeave:P,onClick:async()=>{if(!y&&a)try{await a(O.id,!Q),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)}catch(S){console.error("Failed to toggle sentence marker:",S)}},children:[V,l&&l.id===O.id&&!c&&m.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-1 z-10 bg-gray-800 text-white text-sm px-3 py-2 rounded shadow-lg whitespace-nowrap min-w-48",onMouseEnter:$,onMouseLeave:_,children:[m.jsxs("div",{className:"mb-2",children:[m.jsxs("div",{className:"font-semibold",children:["Token ",O.id]}),m.jsxs("div",{className:"text-gray-300",children:["Range: [",O.begin,"-",O.end,"]"]}),m.jsxs("div",{className:"text-gray-300",children:['Text: "',J,'"']})]}),a&&m.jsx("div",{className:"mb-2 pb-2 border-b border-gray-600",children:m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:Q,onChange:async S=>{try{await a(O.id,S.target.checked),u(null),k.current&&clearTimeout(k.current),p.current&&clearTimeout(p.current)}catch(N){console.error("Failed to toggle sentence marker:",N)}},className:"rounded border-gray-400 text-blue-600 focus:ring-blue-500"}),m.jsx("span",{className:"text-gray-300 text-xs",children:"Start of sentence"})]})}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>D(O),className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white text-xs px-2 py-1 rounded transition-colors",children:"Edit Range"}),m.jsx("button",{onClick:()=>R(O),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs px-2 py-1 rounded transition-colors",children:"Delete"})]})]}),c&&c.id===O.id&&m.jsxs("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-1 z-10 bg-white border border-gray-300 shadow-lg rounded-lg p-4 min-w-64",children:[m.jsxs("div",{className:"mb-3",children:[m.jsx("div",{className:"font-semibold text-gray-900 mb-1",children:"Edit Token Range"}),m.jsxs("div",{className:"text-sm text-gray-600",children:['Token: "',e.slice(c.begin,c.end),'"']})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"Begin"}),m.jsx("input",{type:"number",value:f,onChange:S=>g(S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"0",max:e.length})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-1",children:"End"}),m.jsx("input",{type:"number",value:w,onChange:S=>x(S.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-blue-500",min:"1",max:e.length})]})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:fe,className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs px-3 py-1 rounded transition-colors",children:"Save"}),m.jsx("button",{onClick:W,className:"flex-1 bg-gray-600 hover:bg-gray-700 text-white text-xs px-3 py-1 rounded transition-colors",children:"Cancel"})]})]})]},`token-${O.id}`)),A=O.end}),H===b.length-1&&A<e.length){const O=e.slice(A);M.push(m.jsx("span",{className:"text-gray-400",children:O},`remaining-${H}`))}return m.jsx("div",{className:"mb-2",children:M},`sentence-${H}`)})};return m.jsx("div",{ref:h,className:"p-4 bg-white rounded border border-gray-200 font-mono text-sm leading-relaxed select-text",onMouseUp:Z,children:Ae()})},Id=({projectId:e,documentId:t,project:n,document:r})=>{const o=vt().pathname.includes("/edit");return m.jsxs("div",{children:[m.jsxs("nav",{className:"flex items-center text-sm text-gray-500 mb-4",children:[m.jsx(yt,{to:"/projects",className:"text-blue-600 hover:text-blue-800",children:"Projects"}),m.jsx("span",{className:"mx-2",children:"/"}),m.jsx(yt,{to:`/projects/${e}/documents`,className:"text-blue-600 hover:text-blue-800",children:(n==null?void 0:n.name)||"Loading..."}),m.jsx("span",{className:"mx-2",children:"/"}),m.jsx("span",{className:"text-gray-700",children:(r==null?void 0:r.name)||"Loading..."})]}),m.jsx("div",{className:"mb-6",children:m.jsx("div",{className:"border-b border-gray-200",children:m.jsxs("nav",{className:"-mb-px flex space-x-8",children:[m.jsx(yt,{to:`/projects/${e}/documents/${t}/edit`,className:`whitespace-nowrap py-2 px-1 text-sm font-medium border-b-2 transition-colors ${o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Text Editor"}),m.jsx(yt,{to:`/projects/${e}/documents/${t}/annotate`,className:`whitespace-nowrap py-2 px-1 text-sm font-medium border-b-2 transition-colors ${o?"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300":"border-blue-500 text-blue-600"}`,children:"Annotate"})]})})})]})},cy=()=>{const{projectId:e,documentId:t}=Fi(),[n,r]=v.useState(null),[s,o]=v.useState(null),[i,a]=v.useState(""),[l,u]=v.useState(""),[c,d]=v.useState(!0),[f,g]=v.useState(!1),[w,x]=v.useState(""),[k,p]=v.useState(null),{getClient:h}=dt(),y=async()=>{var E,b;try{d(!0);const C=h();if(!C){window.location.href="/login";return}const[B,U]=await Promise.all([C.projects.get(e),C.documents.get(t,!0)]);o(B),r(U);const H=(E=U.textLayers)==null?void 0:E[0],M=H==null?void 0:H.text;if(M!=null&&M.body){a(M.body);const A=(b=H==null?void 0:H.tokenLayers)==null?void 0:b[0];((A==null?void 0:A.tokens)||[]).length>0&&!l&&u(M.body)}x("")}catch(C){if(C.status===401){window.location.href="/login";return}x("Failed to load document: "+(C.message||"Unknown error")),console.error("Error fetching data:",C)}finally{d(!1)}},T=async()=>{var E,b;try{const C=h();if(!C){window.location.href="/login";return}const[B,U]=await Promise.all([C.projects.get(e),C.documents.get(t,!0)]);o(B),r(U);const H=(E=U.textLayers)==null?void 0:E[0],M=H==null?void 0:H.text;if(M!=null&&M.body){a(M.body);const A=(b=H==null?void 0:H.tokenLayers)==null?void 0:b[0];((A==null?void 0:A.tokens)||[]).length>0&&!l&&u(M.body)}x("")}catch(C){if(C.status===401){window.location.href="/login";return}x("Failed to load document: "+(C.message||"Unknown error")),console.error("Error fetching data:",C)}};v.useEffect(()=>{y()},[e,t]);const j=()=>{var J,q,V;if(!n)return{};const E=(J=n.textLayers)==null?void 0:J[0],b=E==null?void 0:E.text,C=(q=E==null?void 0:E.tokenLayers)==null?void 0:q[0],B=(C==null?void 0:C.tokens)||[],U=(C==null?void 0:C.spanLayers)||[],H=U.find(S=>S.name==="Sentence"),M=(H==null?void 0:H.spans)||[],A=U.find(S=>S.name==="Lemma"),O=(A==null?void 0:A.spans)||[],G=(V=A==null?void 0:A.relationLayers)==null?void 0:V[0],Q=(G==null?void 0:G.relations)||[];return{textLayer:E,text:b,tokenLayer:C,tokens:B,sentenceLayer:H,sentenceSpans:M,lemmaLayer:A,lemmaSpans:O,relationLayer:G,relations:Q}},P=async()=>{if(!(!i.trim()||f))try{g(!0);const E=h(),{textLayer:b,text:C}=j();C!=null&&C.id?await E.texts.update(C.id,i):b!=null&&b.id&&await E.texts.create(b.id,t,i),p(new Date),x(""),u(i),await T()}catch(E){x("Failed to save text: "+(E.message||"Unknown error")),console.error("Error saving text:",E)}finally{g(!1)}},$=E=>{a(E.target.value),k&&p(null)},_=async()=>{const{text:E,tokenLayer:b,tokens:C}=j();if(!i.trim()){x("Please enter some text before tokenizing");return}if(!(E!=null&&E.id)){x("Please save the text first before tokenizing");return}try{g(!0),x("");const B=h(),U=(Q,J,q,V)=>Q<V&&q<J,H=[];let M=0;const A=i.split(/(\s+)/);for(const Q of A)Q.trim()&&H.push({tokenLayerId:b.id,textId:E.id,begin:M,end:M+Q.length}),M+=Q.length;const O=H.filter(Q=>!C.some(J=>U(Q.begin,Q.end,J.begin,J.end))),G=H.length-O.length;if(O.length>0){const Q=await B.tokens.bulkCreate(O),{lemmaLayer:J}=j();if(J&&(Q!=null&&Q.ids)){console.log(`Creating lemma spans for ${Q.ids.length} new tokens`);const q=Q.ids.map((V,S)=>{const N=O[S];return{spanLayerId:J.id,tokens:[V],value:i.substring(N.begin,N.end)}});try{await B.spans.bulkCreate(q),console.log(`Successfully created ${q.length} lemma spans`)}catch(V){console.error("Failed to create lemma spans:",V)}}}u(i),await T(),G>0?x(`Created ${O.length} tokens. Skipped ${G} tokens that would overlap with existing tokens.`):O.length===0&&x("No new tokens created - all proposed tokens would overlap with existing tokens.")}catch(B){x("Failed to create tokens: "+(B.message||"Unknown error")),console.error("Error tokenizing:",B)}finally{g(!1)}},D=async()=>{const{tokens:E}=j();if(confirm("Are you sure you want to clear all tokens? This action cannot be undone."))try{g(!0);const b=h();if(E.length>0){const C=E.map(B=>B.id);await b.tokens.bulkDelete(C)}u(""),await T()}catch(b){x("Failed to clear tokens: "+(b.message||"Unknown error")),console.error("Error clearing tokens:",b)}finally{g(!1)}},R=async(E,b,C)=>{try{const B=h();console.log("Updating token:",E,"from",b,"to",C),await B.tokens.update(E,b,C),console.log("Token update successful"),r(U=>{var G,Q;const H=JSON.parse(JSON.stringify(U)),M=(G=H.textLayers)==null?void 0:G[0],A=(Q=M==null?void 0:M.tokenLayers)==null?void 0:Q[0],O=A==null?void 0:A.tokens;if(O){const J=O.findIndex(q=>q.id===E);J!==-1&&(O[J]={...O[J],begin:b,end:C})}return H})}catch(B){throw console.error("Token update failed, refreshing:",B),await y(),B}},W=async E=>{try{const b=h();console.log("Deleting token:",E),await b.tokens.delete(E),console.log("Token deletion successful"),r(C=>{var A,O;const B=JSON.parse(JSON.stringify(C)),U=(A=B.textLayers)==null?void 0:A[0],H=(O=U==null?void 0:U.tokenLayers)==null?void 0:O[0],M=H==null?void 0:H.tokens;if(M){const G=M.findIndex(Q=>Q.id===E);G!==-1&&M.splice(G,1)}return B})}catch(b){throw console.error("Token deletion failed, refreshing:",b),await y(),b}},fe=async(E,b)=>{try{const C=h(),{text:B,tokenLayer:U}=j();if(!(B!=null&&B.id)||!(U!=null&&U.id))throw new Error("Missing text or token layer");console.log("Creating token:",E,"to",b);const H=await C.tokens.create(U.id,B.id,E,b);console.log("Token creation successful, response:",H);const{lemmaLayer:M}=j();if(M&&(H!=null&&H.id))try{const A=i.substring(E,b);await C.spans.create(M.id,[H.id],A),console.log(`Created lemma span for token: "${A}"`)}catch(A){console.error("Failed to create lemma span:",A)}r(A=>{var q,V;const O=JSON.parse(JSON.stringify(A)),G=(q=O.textLayers)==null?void 0:q[0],Q=(V=G==null?void 0:G.tokenLayers)==null?void 0:V[0],J=Q==null?void 0:Q.tokens;if(J){const S={...H,begin:E,end:b};console.log("Adding token to client state:",S),J.push(S)}return O})}catch(C){throw console.error("Token creation failed, refreshing:",C),await y(),C}},Z=async(E=null)=>{const b=h(),{tokens:C,sentenceSpans:B,lemmaSpans:U,relations:H}=j();if(!H||H.length===0)return[];const M=E||B,A=new Map,O=M.map(S=>{var N;return((N=S.tokens)==null?void 0:N[0])||S.begin}).filter(S=>S!=null),G=[...C].sort((S,N)=>S.begin-N.begin);let Q=0;G.forEach(S=>{O.includes(S.id)&&A.size>0&&Q++,A.set(S.id,Q)});const J=new Map;U.forEach(S=>{S.tokens&&S.tokens.length>0&&J.set(S.id,S.tokens)});const q=[];H.forEach(S=>{const N=J.get(S.source)||[],z=J.get(S.target)||[];let F=null,K=null;N.length>0&&(F=A.get(N[0])),z.length>0&&(K=A.get(z[0])),F!==null&&K!==null&&F!==K&&q.push(S)});const V=[];for(const S of q)try{await b.relations.delete(S.id),V.push(S.id),console.log(`Deleted cross-sentence relation: ${S.id} (${S.value})`)}catch(N){console.error(`Failed to delete relation ${S.id}:`,N)}return V},Pe=async(E,b)=>{try{const C=h(),{sentenceLayer:B,sentenceSpans:U,tokens:H}=j();if(!(B!=null&&B.id))throw new Error("No sentence layer found");const M=H.find(O=>O.id===E);if(!M)throw new Error("Token not found");const A=U.find(O=>O.tokens&&O.tokens.length>0?O.tokens.includes(M.id):O.begin===M.id&&O.end===M.id);if(b&&!A){console.log("Creating sentence span for token:",E);const O=await C.spans.create(B.id,[M.id],null),G=[...U,{...O,tokens:[M.id]}],Q=await Z(G);r(J=>{var F,K,ee;const q=JSON.parse(JSON.stringify(J)),V=(F=q.textLayers)==null?void 0:F[0],S=(K=V==null?void 0:V.tokenLayers)==null?void 0:K[0],N=(S==null?void 0:S.spanLayers)||[],z=N.find(X=>X.name==="Sentence");if(z){z.spans||(z.spans=[]);const X={...O,tokens:[M.id]};z.spans.push(X)}if(Q.length>0){const X=N.find(Fe=>Fe.name==="Lemma"),pe=(ee=X==null?void 0:X.relationLayers)==null?void 0:ee[0];pe&&pe.relations&&(pe.relations=pe.relations.filter(Fe=>!Q.includes(Fe.id)))}return q})}else if(!b&&A){console.log("Deleting sentence span:",A.id),await C.spans.delete(A.id);const O=U.filter(Q=>Q.id!==A.id),G=await Z(O);r(Q=>{var z,F,K;const J=JSON.parse(JSON.stringify(Q)),q=(z=J.textLayers)==null?void 0:z[0],V=(F=q==null?void 0:q.tokenLayers)==null?void 0:F[0],S=(V==null?void 0:V.spanLayers)||[],N=S.find(ee=>ee.name==="Sentence");if(N&&N.spans){const ee=N.spans.findIndex(X=>X.id===A.id);ee!==-1&&N.spans.splice(ee,1)}if(G.length>0){const ee=S.find(pe=>pe.name==="Lemma"),X=(K=ee==null?void 0:ee.relationLayers)==null?void 0:K[0];X&&X.relations&&(X.relations=X.relations.filter(pe=>!G.includes(pe.id)))}return J})}}catch(C){throw console.error("Sentence toggle failed, refreshing:",C),await y(),C}};if(c)return m.jsx("div",{className:"text-center text-gray-600 py-8",children:"Loading document..."});if(!n||!s)return m.jsx("div",{className:"rounded-md bg-red-50 p-4",children:m.jsx("p",{className:"text-sm text-red-800",children:"Document or project not found"})});const{tokens:ve,sentenceSpans:_e}=j(),Ae=l&&i!==l;return m.jsxs("div",{children:[m.jsx(Id,{projectId:e,documentId:t,project:s,document:n}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Text Content"}),m.jsx("textarea",{className:"w-full min-h-[300px] p-4 border-2 border-gray-300 rounded-md font-mono text-sm leading-relaxed resize-y focus:outline-none focus:border-blue-500 focus:ring-1 focus:ring-blue-500",value:i,onChange:$,placeholder:`Enter your text here. Use multiple newlines to separate sentences.

Example:
The quick brown fox jumps over the lazy dog.
This is a second sentence for testing.`,rows:12}),m.jsxs("div",{className:"flex items-center gap-3 mt-4",children:[m.jsx("button",{onClick:P,disabled:f||!i.trim(),className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:f?"Saving...":"Save Text"}),m.jsx("button",{onClick:_,disabled:f||!i.trim()||Ae,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",title:Ae?"Please save text changes before tokenizing":"",children:f?"Processing...":"Whitespace Tokenize"}),ve.length>0&&m.jsx("button",{onClick:D,disabled:f,className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors",children:"Clear Tokens"}),m.jsxs("div",{className:"ml-auto text-sm font-medium text-gray-600",children:[ve.length," token",ve.length!==1?"s":""]})]}),m.jsxs("div",{className:"mt-2 text-sm",children:[f&&m.jsx("span",{className:"text-blue-600 italic",children:"Processing..."}),!f&&k&&m.jsxs("span",{className:"text-green-600",children:["Saved: ",k.toLocaleTimeString()]}),!f&&!k&&i&&Ae&&m.jsx("span",{className:"text-yellow-600 italic",children:"Unsaved changes"})]})]}),m.jsxs("div",{className:"border border-gray-200 rounded-md p-4 bg-gray-50",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Token Visualization"}),m.jsx(uy,{text:i,originalText:l,tokens:ve,sentenceSpans:_e,onTokenUpdate:R,onTokenDelete:W,onTokenCreate:fe,onSentenceToggle:Pe})]})]})]})},dy=({tokens:e,relations:t,lemmaSpans:n,onRelationCreate:r,onRelationUpdate:s,onRelationDelete:o,textContent:i,tokenPositions:a=[]})=>{const[l,u]=v.useState(null),[c,d]=v.useState(null),[f,g]=v.useState(null),[w,x]=v.useState(null),[k,p]=v.useState(null),[h,y]=v.useState(null),[T,j]=v.useState(null),[P,$]=v.useState(null),_=v.useRef(null),D=v.useRef(new Map),R=80,W=300,fe=20,Z=W-30,Pe=25,ve=a.length>0?a.map((S,N)=>({...S,y:Z})):e.map((S,N)=>{const z=i.substring(S.begin,S.end),F=n.find(K=>K.tokens&&K.tokens.includes(S.id)||K.begin===S.id);return{token:S,x:fe+N*R+R/2,y:Z,form:z,lemmaSpanId:F==null?void 0:F.id,index:N}}),_e=(S,N)=>{const z=Math.abs(N-S),F=-.2*Math.pow(z,.8),ee=1/(1+Math.exp(F)),X=W-Pe-40,pe=X*((ee-.5)*2);return Math.max(15,Math.min(pe,X*.8))},Ae=(S,N,z=!1,F=!1)=>{const K=S.x,ee=F?S.y:Z-10,X=N.x,pe=z?Pe+10:Z-10,Fe=X-K,yn=pe-ee,wt=z||F?null:_e(S.index,N.index),en=X>K?5:-5;let ft;return wt===null?ft=`M ${K} ${ee} l ${Fe} ${yn}`:ee===Pe+10?ft=`M ${K} ${ee} 
           c 0 0, ${Fe} -${wt/4}, ${Fe} ${yn}`:yn!==0?ft=`M ${K} ${ee} 
           c 0 -${wt}, ${Fe} -${wt}, ${Fe} ${yn}`:ft=`M ${K+en} ${ee} 
           a ${Math.abs(Fe-en)/2} ${wt} 0 0 ${K<X?"1":"0"} ${Fe-en} 0`,ft},E=(S,N)=>{if(S.preventDefault(),f){g(null);return}y({x:N.x,y:N.y}),j({x:N.x,y:N.y}),$(N.lemmaSpanId)},b=S=>{if(h&&_.current){const N=_.current.getBoundingClientRect();j({x:S.clientX-N.left,y:S.clientY-N.top})}},C=(S,N)=>{if(S.stopPropagation(),h&&P){const z=P,F=N.lemmaSpanId;if(z==="ROOT"&&F){const K=t.find(ee=>ee.source===F&&ee.target===F);K?g(K):r(F,F,"root")}else if(z!==F&&z!=="ROOT"){const K=t.find(ee=>ee.source===z&&ee.target===F);K?g(K):z&&F&&r(z,F,"dep")}}y(null),j(null),$(null)},B=S=>{if(S.preventDefault(),f){g(null);return}const N=_.current.getBoundingClientRect(),z=S.clientX-N.left,F=S.clientY-N.top;y({x:z,y:F}),j({x:z,y:F}),$("ROOT")},U=S=>{if(S.stopPropagation(),h&&P&&P!=="ROOT"){const N=P,z=t.find(F=>F.source===N&&F.target===N);z?g(z):r(N,N,"root")}y(null),j(null),$(null)},H=S=>{y(null),j(null),$(null)},M=S=>{if(f){g(null);return}if(!l)u(S);else if(l.lemmaSpanId===S.lemmaSpanId)u(null);else{const N=l.lemmaSpanId,z=S.lemmaSpanId,F=t.find(K=>K.source===N&&K.target===z);F?g(F):N&&z&&r(N,z,"dep"),u(null)}},A=S=>{if(l&&l.lemmaSpanId!=="ROOT"){const N=l.lemmaSpanId,z=t.find(F=>F.source===N&&F.target===N);z?g(z):r(N,N,"root"),u(null)}},O=[...t].sort((S,N)=>{const z=ve.find(K=>K.lemmaSpanId===S.source),F=ve.find(K=>K.lemmaSpanId===N.source);return((z==null?void 0:z.x)||0)-((F==null?void 0:F.x)||0)}),G=S=>{if(S.key==="d"&&S.ctrlKey&&!k&&!f){S.preventDefault(),Q();return}if(S.key==="Tab"&&k){S.preventDefault();const N=O.findIndex(z=>z.id===k);if(S.shiftKey){const z=N>0?N-1:O.length-1;if(O[z]){p(O[z].id);const F=D.current.get(O[z].id);F==null||F.focus()}}else{const z=N<O.length-1?N+1:0;if(O[z]){p(O[z].id);const F=D.current.get(O[z].id);F==null||F.focus()}}return}if(S.key==="Enter"&&k&&!f){const N=t.find(z=>z.id===k);N&&g(N);return}S.key==="Escape"&&(u(null),g(null),p(null),y(null),j(null),$(null))};v.useEffect(()=>(document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)),[k,f,O,t]);const Q=()=>{if(O.length>0&&!k){const S=O[0];p(S.id);const N=D.current.get(S.id);N==null||N.focus()}},J=S=>{const N=S.source===S.target,z=ve.find(re=>re.lemmaSpanId===S.source),F=N?{x:(z==null?void 0:z.x)||0,index:-1}:ve.find(re=>re.lemmaSpanId===S.target);if(!z||!F&&!N)return null;const K=(f==null?void 0:f.id)===S.id,ee=w===S.id,X=k===S.id,pe=N,Fe=Ae(z,F,pe),yn=`arc-${S.id}`,wt=pe?z.x:F.x,en=Z-10;let ft,Wr;if(pe)ft=z.x,Wr=(Z+Pe)/2;else{const re=(z.x+F.x)/2,tt=_e(z.index,F.index);Wr=Z-tt-15,ft=re}const xo=K||ee||X?"#2563eb":"#666",Hd=K||ee||X?2:1;return m.jsxs("g",{children:[m.jsx("path",{id:yn,d:Fe,stroke:xo,strokeWidth:Hd,className:"tree-arc-path",onMouseEnter:()=>x(S.id),onMouseLeave:()=>x(null),onClick:()=>{g(S)}}),m.jsx("polygon",{points:`${wt-3},${en-3} ${wt+3},${en-3} ${wt},${en+2}`,fill:xo,className:"tree-arc-arrow",onClick:()=>{g(S)}}),(f==null?void 0:f.id)===S.id?m.jsx("foreignObject",{x:ft-40,y:Wr-10,width:"80",height:"20",children:m.jsx("div",{contentEditable:!0,suppressContentEditableWarning:!0,className:"tree-deprel-edit",onBlur:re=>{const tt=re.target.textContent.trim(),Vr=S.value||"dep";tt&&tt!==Vr&&s(S.id,tt),g(null),setTimeout(()=>{const qi=D.current.get(S.id);qi&&(qi.focus(),p(S.id))},0)},onKeyDown:re=>{re.key==="Enter"?(re.preventDefault(),re.target.blur()):re.key==="Escape"?(re.target.textContent=S.value||"dep",g(null),setTimeout(()=>{const tt=D.current.get(S.id);tt&&(tt.focus(),p(S.id))},0)):re.key==="Delete"&&re.shiftKey?(re.preventDefault(),o(S.id),g(null),p(null)):re.key==="Tab"&&(re.preventDefault(),re.target.blur())},autoFocus:!0,ref:re=>{if(re){re.textContent=S.value||"dep";const tt=document.createRange();tt.selectNodeContents(re);const Vr=window.getSelection();Vr.removeAllRanges(),Vr.addRange(tt)}},children:S.value||"dep"})}):m.jsx("text",{x:ft,y:Wr,fill:xo,className:`tree-deprel-text ${X?"tree-deprel-text--focused":""}`,tabIndex:"-1",onMouseEnter:()=>x(S.id),onMouseLeave:()=>x(null),onFocus:()=>p(S.id),onBlur:()=>{f||p(null)},onClick:()=>{g(S),p(S.id)},ref:re=>{re?D.current.set(S.id,re):D.current.delete(S.id)},children:S.value||"dep"})]},S.id)},q=()=>{if(!h||!T||!P)return null;let S,N;if(P==="ROOT")S=h.x,N=h.y;else{const ee=ve.find(X=>X.lemmaSpanId===P);if(!ee)return null;S=ee.x,N=Z-10}const z=T.x-S,F=T.y-N;let K;if(P==="ROOT")if(T.y>Pe+30){const X=Math.abs(F)*.3;K=`M ${S} ${N} 
             c 0 ${X}, ${z} ${X}, ${z} ${F}`}else K=`M ${S} ${N} l ${z} ${F}`;else{const X=T.y<Pe+15?null:_e(0,-1),pe=z>0?5:-5;X===null?K=`M ${S} ${N} l ${z} ${F}`:F!==0?K=`M ${S} ${N} 
             c 0 -${X}, ${z} -${X}, ${z} ${F}`:K=`M ${S+pe} ${N} 
             a ${Math.abs(z-pe)/2} ${X} 0 0 ${S<S+z?"1":"0"} ${z-pe} 0`}return m.jsx("path",{d:K,className:"tree-drag-arc"})},V=ve.length>0?Math.max(...ve.map(S=>S.x))+50:300;return m.jsx("div",{className:"dependency-tree-container",children:m.jsxs("svg",{ref:_,width:"100%",height:W,className:"tree-svg",style:{minWidth:`${V}px`},onMouseMove:b,onMouseUp:H,children:[m.jsx("rect",{x:0,y:Pe,width:"100%",height:"20",fill:(c==null?void 0:c.lemmaSpanId)==="ROOT"?"#e5e7eb":"#fafafa",className:l||h?"tree-root-rect":"tree-root-rect--default",onClick:()=>A(),onMouseDown:B,onMouseUp:U,onMouseEnter:()=>d({lemmaSpanId:"ROOT"}),onMouseLeave:()=>d(null)}),t.map((S,N)=>J(S)),q(),ve.map(S=>{l==null||l.lemmaSpanId,S.lemmaSpanId,c==null||c.lemmaSpanId,S.lemmaSpanId,S.lemmaSpanId;const N=S.width||60,z=30;return m.jsx("rect",{x:S.x-N*.6,y:S.y-z*.6+10,width:N*1.2,height:z*1.2,fill:"transparent",className:`tree-token-area ${h?"tree-token-area--drag":"tree-token-area--grab"}`,onClick:()=>M(S),onMouseDown:F=>E(F,S),onMouseUp:F=>C(F,S),onMouseEnter:()=>d(S),onMouseLeave:()=>d(null)},S.token.id)})]})})},fy=(e,t)=>{const[n,r]=v.useState([]),s=v.useRef(null),o=v.useRef(new Map),i=v.useRef(null),a=v.useCallback(()=>{if(!s.current||!e||e.length===0)return;const l=s.current.getBoundingClientRect(),u=[];e.forEach((c,d)=>{const f=o.current.get(c.token.id);if(f){const g=f.getBoundingClientRect(),w=g.left+g.width/2-l.left,x=g.top+g.height/2-l.top+50,k=t==null?void 0:t.find(p=>p.tokens&&p.tokens.includes(c.token.id)||p.begin===c.token.id);u.push({token:c.token,x:w,y:x,width:g.width,form:c.tokenForm,lemmaSpanId:k==null?void 0:k.id,index:d})}}),r(u)},[e,t]);return v.useEffect(()=>{const l=setTimeout(()=>{a()},0);return i.current&&i.current.disconnect(),i.current=new ResizeObserver(()=>{a()}),s.current&&i.current.observe(s.current),()=>{clearTimeout(l),i.current&&i.current.disconnect()}},[a]),{tokenPositions:n,sentenceGridRef:s,tokenRefs:o}},Go=Xs.memo(({value:e,tokenId:t,field:n,tokenForm:r,tabIndex:s,columnWidth:o,onUpdate:i})=>{const[a,l]=v.useState(e||""),[u,c]=v.useState(!1),d=v.useRef(null);v.useEffect(()=>{u||l(e||"")},[e,u]);const f=h=>{l(h.target.value)},g=h=>{var T;console.log("handleBlur triggered",{field:n,relatedTarget:h.relatedTarget,relatedTargetTabIndex:(T=h.relatedTarget)==null?void 0:T.getAttribute("tabIndex")}),c(!1);const y=a.trim();y!==(e||"")?i(t,n,y||null).catch(j=>{console.error(`Failed to update ${n}:`,j),l(e||"")}):l(e||"")},w=h=>{var y,T;h.key==="Enter"?(h.preventDefault(),(y=d.current)==null||y.blur()):h.key==="Escape"&&(l(e||""),c(!1),(T=d.current)==null||T.blur())},x=()=>{c(!0),setTimeout(()=>{var h;(h=d.current)==null||h.select()},0)},k=a||(n==="lemma"&&!e?r:""),p=k&&k.trim()!=="";return m.jsx("input",{ref:d,id:s,type:"text",value:k,onChange:f,onBlur:g,onKeyDown:w,onFocus:x,className:`editable-field ${p?"editable-field--filled":"editable-field--empty"}`,style:{width:o?`${o}px`:"auto"},title:`Edit ${n}`,tabIndex:s})}),hy=Xs.memo(({features:e,spanIds:t,tokenId:n,onAnnotationUpdate:r,onFeatureDelete:s})=>{const[o,i]=v.useState(!1),[a,l]=v.useState(""),[u,c]=v.useState(!1),[d,f]=v.useState(null),g=async()=>{if(a.trim()){if(!a.includes("=")){alert('Features must be in the format "key=value"');return}try{await r(n,"features",a.trim()),l(""),i(!1)}catch(x){console.error("Failed to add feature:",x)}}},w=async x=>{const k=t==null?void 0:t.features[x];if(!k){console.error("No span ID found for feature at index",x);return}try{await s(k.spanId)}catch(p){console.error("Failed to remove feature:",p)}};return m.jsxs("div",{className:"features-container",onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[e.map((x,k)=>m.jsxs("div",{className:`feature-tag ${d===k?"feature-tag--hovered":"feature-tag--normal"}`,onMouseEnter:()=>f(k),onMouseLeave:()=>f(null),children:[m.jsx("span",{className:"feature-text",children:x}),m.jsx("button",{onClick:()=>w(k),className:`feature-delete-btn ${d===k?"feature-delete-btn--visible":"feature-delete-btn--hidden"}`,title:"Remove feature",children:""})]},`${n}-feat-${k}`)),o?m.jsx("div",{className:"feature-input-container",children:m.jsx("input",{type:"text",value:a,onChange:x=>l(x.target.value),onKeyDown:x=>{x.key==="Enter"?(x.preventDefault(),g()):x.key==="Escape"&&(l(""),i(!1))},onBlur:()=>{a.trim()?g():i(!1)},placeholder:"key=value",className:"feature-input",autoFocus:!0})}):u?m.jsx("button",{onClick:()=>i(!0),className:"feature-add-btn",children:"+"}):null]})}),py=Xs.memo(({data:e,index:t,columnWidth:n,getTabIndex:r,onAnnotationUpdate:s,onFeatureDelete:o,maxFeatures:i,tokenRefs:a})=>{var l,u,c;return m.jsxs("div",{className:"token-column",style:{width:`${n}px`},children:[m.jsx("div",{className:"token-form",ref:d=>{d?a.current.set(e.token.id,d):a.current.delete(e.token.id)},children:e.tokenForm}),m.jsx("div",{className:"annotation-cell",children:m.jsx(Go,{value:(l=e.lemma)==null?void 0:l.value,tokenId:e.token.id,field:"lemma",tokenForm:e.tokenForm,tabIndex:r(t,"lemma"),columnWidth:n,onUpdate:s})}),m.jsx("div",{className:"annotation-cell",children:m.jsx(Go,{value:(u=e.xpos)==null?void 0:u.value,tokenId:e.token.id,field:"xpos",tokenForm:e.tokenForm,tabIndex:r(t,"xpos"),columnWidth:n,onUpdate:s})}),m.jsx("div",{className:"annotation-cell",children:m.jsx(Go,{value:(c=e.upos)==null?void 0:c.value,tokenId:e.token.id,field:"upos",tokenForm:e.tokenForm,tabIndex:r(t,"upos"),columnWidth:n,onUpdate:s})}),m.jsx("div",{className:"features-cell",style:{minHeight:`${Math.max(30,i*16+20)}px`},children:m.jsx(hy,{features:e.feats.map(d=>d.value),spanIds:{features:e.spanIds.features},tokenId:e.token.id,onAnnotationUpdate:s,onFeatureDelete:o})})]})},(e,t)=>e.data===t.data&&e.index===t.index&&e.columnWidth===t.columnWidth&&e.maxFeatures===t.maxFeatures&&e.onAnnotationUpdate===t.onAnnotationUpdate&&e.onFeatureDelete===t.onFeatureDelete&&e.getTabIndex===t.getTabIndex),my=Xs.memo(({sentenceData:e,onAnnotationUpdate:t,onFeatureDelete:n,onRelationCreate:r,onRelationUpdate:s,onRelationDelete:o,sentenceIndex:i=0,totalTokensBefore:a=0})=>{const l=e.tokens,u=v.useMemo(()=>l.map(y=>{var W,fe,Z;const $=y.tokenForm.length*8+16,_=(((W=y.lemma)==null?void 0:W.value)||y.tokenForm).length*8+16,D=(((fe=y.xpos)==null?void 0:fe.value)||"").length*8+16,R=(((Z=y.upos)==null?void 0:Z.value)||"").length*8+16;return Math.max(40,$,_,D,R)}),[l]),c=Math.max(1,...l.map(h=>h.feats.length)),d=e.relations,f=e.lemmaSpans,g={substring:(h,y)=>{const T=l.find(j=>j.token.begin===h&&j.token.end===y);return T?T.tokenForm:""}},{tokenPositions:w,sentenceGridRef:x,tokenRefs:k}=fy(l,f),p=v.useCallback((h,y)=>{const T={lemma:0,xpos:1,upos:2},j=l.length,P=a*3,$=T[y],_=h;return P+$*j+_+1},[l.length,a]);return m.jsxs("div",{className:"sentence-container",children:[m.jsx(dy,{tokens:e.tokens.map(h=>h.token),relations:d,lemmaSpans:f,onRelationCreate:r,onRelationUpdate:s,onRelationDelete:o,textContent:g,tokenPositions:w}),m.jsxs("div",{className:"sentence-grid",ref:x,children:[m.jsxs("div",{className:"labels-column",children:[m.jsx("div",{className:"label-spacer"}),m.jsx("div",{className:"row-label",children:"LEMMA"}),m.jsx("div",{className:"row-label",children:"XPOS"}),m.jsx("div",{className:"row-label",children:"UPOS"}),m.jsx("div",{className:"row-label",style:{minHeight:`${Math.max(30,c*16+20)}px`,alignItems:"flex-start",paddingTop:"6px"},children:"FEATS"})]}),l.map((h,y)=>m.jsx(py,{data:h,index:y,columnWidth:u[y],getTabIndex:p,onAnnotationUpdate:t,onFeatureDelete:n,maxFeatures:c,tokenRefs:k},h.token.id))]})]})},(e,t)=>JSON.stringify(e.sentenceData)===JSON.stringify(t.sentenceData)),yy=(e,t)=>{const[n,r]=v.useState(null),[s,o]=v.useState(null),[i,a]=v.useState(!0),[l,u]=v.useState(""),{getClient:c}=dt(),d=v.useCallback(async()=>{if(!(!e||!t))try{a(!0);const g=c();if(!g){window.location.href="/login";return}const[w,x]=await Promise.all([g.projects.get(e),g.documents.get(t,!0)]);o(w),r(x),u("")}catch(g){if(g.status===401){window.location.href="/login";return}u("Failed to load document: "+(g.message||"Unknown error")),console.error("Error fetching data:",g)}finally{a(!1)}},[e,t,c]),f=v.useCallback(async()=>{await d()},[d]);return v.useEffect(()=>{d()},[d]),{document:n,project:s,loading:i,error:l,setDocument:r,setError:u,refreshData:f}},gy=e=>v.useMemo(()=>{var u,c,d;if(!e)return{};const t=(u=e.textLayers)==null?void 0:u[0],n=(c=t==null?void 0:t.tokenLayers)==null?void 0:c[0],r=(n==null?void 0:n.spanLayers)||[],s=r.find(f=>f.name==="Lemma"),o=r.find(f=>f.name==="UPOS"),i=r.find(f=>f.name==="XPOS"),a=r.find(f=>f.name==="Features"),l=(d=s==null?void 0:s.relationLayers)==null?void 0:d[0];return{lemmaLayer:s,uposLayer:o,xposLayer:i,featuresLayer:a,relationLayer:l,textLayer:t,tokenLayer:n}},[e]),xy=(e,t,n,r,s)=>{const{getClient:o}=dt(),i=v.useCallback(async(d,f,g)=>{try{const w=o();if(!w)return;let x,k;switch(f){case"lemma":x=r.lemmaLayer,k=(x==null?void 0:x.spans)||[];break;case"upos":x=r.uposLayer,k=(x==null?void 0:x.spans)||[];break;case"xpos":x=r.xposLayer,k=(x==null?void 0:x.spans)||[];break;case"features":x=r.featuresLayer,k=(x==null?void 0:x.spans)||[];break;default:throw new Error(`Unknown field: ${f}`)}let p;if(f==="features"){if(!x){console.warn(`Layer for ${f} not found, cannot create annotation`);return}p=await w.spans.create(x.id,[d],g),t(h=>{var _,D;const y=JSON.parse(JSON.stringify(h)),T=(_=y.textLayers)==null?void 0:_[0],j=(D=T==null?void 0:T.tokenLayers)==null?void 0:D[0],$=((j==null?void 0:j.spanLayers)||[]).find(R=>R.id===x.id);return $&&($.spans||($.spans=[]),$.spans.push({...p,tokens:[d],value:g})),y})}else{const h=k.find(y=>y.tokens&&y.tokens.length>0?y.tokens.includes(d):y.begin===d);if(h)p=await w.spans.update(h.id,g),t(y=>{var _,D;const T=JSON.parse(JSON.stringify(y)),j=(_=T.textLayers)==null?void 0:_[0],P=(D=j==null?void 0:j.tokenLayers)==null?void 0:D[0];return((P==null?void 0:P.spanLayers)||[]).forEach(R=>{if(R.spans){const W=R.spans.findIndex(fe=>fe.id===h.id);W!==-1&&(R.spans[W].value=g)}}),T});else if(x)p=await w.spans.create(x.id,[d],g),t(y=>{var D,R;const T=JSON.parse(JSON.stringify(y)),j=(D=T.textLayers)==null?void 0:D[0],P=(R=j==null?void 0:j.tokenLayers)==null?void 0:R[0],_=((P==null?void 0:P.spanLayers)||[]).find(W=>W.id===x.id);return _&&(_.spans||(_.spans=[]),_.spans.push({...p,tokens:[d],value:g})),T});else{console.warn(`Layer for ${f} not found, cannot create annotation`);return}}n("")}catch(w){console.error(`Failed to update ${f}:`,w),n(`Failed to update ${f}: ${w.message}`),await s()}},[r]),a=v.useCallback(async d=>{try{const f=o();if(!f)return;await f.spans.delete(d),t(g=>{var h,y;const w=JSON.parse(JSON.stringify(g)),x=(h=w.textLayers)==null?void 0:h[0],k=(y=x==null?void 0:x.tokenLayers)==null?void 0:y[0];return((k==null?void 0:k.spanLayers)||[]).forEach(T=>{T.name==="Features"&&T.spans&&(T.spans=T.spans.filter(j=>j.id!==d))}),w}),n("")}catch(f){console.error("Failed to delete feature:",f),n(`Failed to delete feature: ${f.message}`),await s()}},[r]),l=v.useCallback(async(d,f,g)=>{try{const w=o();if(!w)return;if(!r.relationLayer){n("Relation layer not found. Please ensure the project is properly configured.");return}const k=(r.relationLayer.relations||[]).filter(h=>h.target===f);for(const h of k)try{await w.relations.delete(h.id)}catch(y){console.warn("Failed to delete existing relation:",y)}let p=null;if(d===f){const h=await w.relations.create(r.relationLayer.id,f,f,g||"root");p={id:h.id||h,source:f,target:f,value:g||"root"}}else{const h=await w.relations.create(r.relationLayer.id,d,f,g||"dep");p={id:h.id||h,source:d,target:f,value:g||"dep"}}t(h=>{var $,_,D;const y=JSON.parse(JSON.stringify(h)),T=($=y.textLayers)==null?void 0:$[0],j=(_=T==null?void 0:T.tokenLayers)==null?void 0:_[0],P=(D=j==null?void 0:j.spanLayers)==null?void 0:D.find(R=>R.name==="Lemma");return P&&(P.relationLayers||(P.relationLayers=[]),P.relationLayers[0]||(P.relationLayers[0]={id:r.relationLayer.id,name:"Relation",relations:[]}),P.relationLayers[0].relations||(P.relationLayers[0].relations=[]),P.relationLayers[0].relations=P.relationLayers[0].relations.filter(R=>R.target!==f),P.relationLayers[0].relations.push(p)),y}),n("")}catch(w){console.error("Failed to create relation:",w),n(`Failed to create relation: ${w.message}`),await s()}},[r]),u=v.useCallback(async(d,f)=>{try{const g=o();if(!g)return;await g.relations.update(d,f),t(w=>{var y,T,j,P,$;const x=JSON.parse(JSON.stringify(w)),k=(y=x.textLayers)==null?void 0:y[0],p=(T=k==null?void 0:k.tokenLayers)==null?void 0:T[0],h=(j=p==null?void 0:p.spanLayers)==null?void 0:j.find(_=>_.name==="Lemma");if(h&&(($=(P=h.relationLayers)==null?void 0:P[0])!=null&&$.relations)){const _=h.relationLayers[0].relations.findIndex(D=>D.id===d);_!==-1&&(h.relationLayers[0].relations[_].value=f)}return x}),n("")}catch(g){console.error("Failed to update relation:",g),n(`Failed to update relation: ${g.message}`),await s()}},[r]),c=v.useCallback(async d=>{try{const f=o();if(!f)return;await f.relations.delete(d),t(g=>{var h,y,T,j,P;const w=JSON.parse(JSON.stringify(g)),x=(h=w.textLayers)==null?void 0:h[0],k=(y=x==null?void 0:x.tokenLayers)==null?void 0:y[0],p=(T=k==null?void 0:k.spanLayers)==null?void 0:T.find($=>$.name==="Lemma");return p&&((P=(j=p.relationLayers)==null?void 0:j[0])!=null&&P.relations)&&(p.relationLayers[0].relations=p.relationLayers[0].relations.filter($=>$.id!==d)),w}),n("")}catch(f){console.error("Failed to delete relation:",f),n(`Failed to delete relation: ${f.message}`),await s()}},[r]);return{handleAnnotationUpdate:i,handleFeatureDelete:a,handleRelationCreate:l,handleRelationUpdate:u,handleRelationDelete:c}},vy=e=>v.useMemo(()=>{var T,j,P;if(!e)return[];const t=(T=e.textLayers)==null?void 0:T[0],n=t==null?void 0:t.text,r=(j=t==null?void 0:t.tokenLayers)==null?void 0:j[0],s=(r==null?void 0:r.tokens)||[];if(!(n!=null&&n.body)||s.length===0)return[];const o=(r==null?void 0:r.spanLayers)||[],i=o.find($=>$.name==="Lemma"),a=o.find($=>$.name==="UPOS"),l=o.find($=>$.name==="XPOS"),u=o.find($=>$.name==="Features"),c=o.find($=>$.name==="Sentence"),d=(P=i==null?void 0:i.relationLayers)==null?void 0:P[0],f=[...s].sort(($,_)=>$.begin-_.begin),g=(c==null?void 0:c.spans)||[],w=new Set(g.map($=>$.tokens&&$.tokens.length>0?$.tokens[0]:$.begin).filter($=>$!=null)),x=[];let k=[];for(const $ of f)w.has($.id)&&k.length>0&&(x.push(k),k=[]),k.push($);k.length>0&&x.push(k),x.length===0&&f.length>0&&x.push(f);const p=$=>{const _={lemma:null,upos:null,xpos:null,feats:[],spanIds:{lemma:null,upos:null,xpos:null,features:[]}};return[{layer:i,type:"lemma"},{layer:a,type:"upos"},{layer:l,type:"xpos"},{layer:u,type:"feats"}].forEach(({layer:D,type:R})=>{D!=null&&D.spans&&D.spans.forEach(W=>{(W.tokens||[W.begin]).includes($)&&(R==="feats"?W.value&&(_.feats.push(W),_.spanIds.features.push({value:W.value,spanId:W.id})):(_[R]=W,_.spanIds[R]=W.id))})}),_},h=$=>{if(!(d!=null&&d.relations)||!(i!=null&&i.spans))return[];const _=new Set($.map(W=>W.id)),D=i.spans.filter(W=>(W.tokens||[W.begin]).some(Z=>_.has(Z))),R=new Set(D.map(W=>W.id));return d.relations.filter(W=>R.has(W.source))},y=$=>{if(!(i!=null&&i.spans))return[];const _=new Set($.map(D=>D.id));return i.spans.filter(D=>(D.tokens||[D.begin]).some(W=>_.has(W)))};return x.map(($,_)=>{const D=$.map((R,W)=>{const fe=n.body.substring(R.begin,R.end),Z=p(R.id);return{token:R,tokenForm:fe,lemma:Z.lemma,upos:Z.upos,xpos:Z.xpos,feats:Z.feats,spanIds:Z.spanIds,tokenIndex:W+1}});return{id:_,text:$.map(R=>n.body.substring(R.begin,R.end)).join(" "),tokens:D,relations:h($),lemmaSpans:y($)}})},[e]),wy=e=>{const[t,n]=v.useState([]),[r,s]=v.useState(null),[o,i]=v.useState(!1),[a,l]=v.useState(!1),[u,c]=v.useState(""),{getClient:d}=dt(),f=v.useCallback(async()=>{if(e)try{i(!0);const x=d();if(!x){window.location.href="/login";return}const k=await x.documents.audit(e);n(k||[]),c("")}catch(x){if(x.status===401){window.location.href="/login";return}c("Failed to load audit log: "+(x.message||"Unknown error")),console.error("Error fetching audit log:",x)}finally{i(!1)}},[e,d]),g=v.useCallback(async x=>{if(!e||!x)return null;try{l(!0),c("");const k=d();if(!k)return window.location.href="/login",null;const p=await k.documents.get(e,!0,x);return s(p),p}catch(k){return k.status===401?(window.location.href="/login",null):(c("Failed to load historical document: "+(k.message||"Unknown error")),console.error("Error fetching historical document:",k),null)}finally{l(!1)}},[e,d]),w=v.useCallback(()=>{s(null),c("")},[]);return v.useEffect(()=>{e&&f()},[f]),{auditEntries:t,historicalDocument:r,loadingAudit:o,loadingHistorical:a,error:u,fetchHistoricalDocument:g,clearHistoricalDocument:w,refreshAuditLog:f}},or=60,du=5,Ty=({isOpen:e,onClose:t,auditEntries:n,loading:r,error:s,onSelectEntry:o,selectedEntry:i})=>{const[a,l]=v.useState(0),u=v.useRef(null),c=400,d=v.useMemo(()=>{const h=Math.max(0,Math.floor(a/or)-du),y=Math.min(n.length-1,Math.ceil((a+c)/or)+du);return{startIndex:h,endIndex:y}},[a,n.length]),f=h=>{l(h.target.scrollTop)},g=h=>{o(h)},w=h=>new Date(h).toLocaleString(),x=h=>{var y,T;return((T=(y=h.ops)==null?void 0:y[0])==null?void 0:T.description)||"No description available"},k=n.length*or,p=d.startIndex*or;return e?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40",onClick:t}),m.jsxs("div",{className:"fixed left-0 top-0 h-full w-96 bg-white shadow-xl z-50 transform transition-transform duration-300 ease-in-out",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[m.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Document History"}),m.jsx("button",{onClick:t,className:"p-1 rounded-md text-gray-400 hover:text-gray-600 hover:bg-gray-100",children:m.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),m.jsxs("div",{className:"flex-1 overflow-hidden",children:[r&&m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"text-sm text-gray-600",children:"Loading history..."})}),s&&m.jsx("div",{className:"p-4",children:m.jsx("div",{className:"text-sm text-red-600 bg-red-50 border border-red-200 rounded p-3",children:s})}),!r&&!s&&n.length===0&&m.jsx("div",{className:"flex items-center justify-center py-8",children:m.jsx("div",{className:"text-sm text-gray-500",children:"No history entries found"})}),!r&&!s&&n.length>0&&m.jsxs("div",{className:"p-4",children:[m.jsxs("div",{className:"text-xs text-gray-500 mb-3",children:[n.length," entries  Click to view historical state"]}),m.jsx("div",{ref:u,className:"border border-gray-200 rounded-md overflow-auto",style:{height:c},onScroll:f,children:m.jsx("div",{style:{height:k,position:"relative"},children:m.jsx("div",{style:{transform:`translateY(${p}px)`,position:"absolute",top:0,left:0,right:0},children:n.slice(d.startIndex,d.endIndex+1).map((h,y)=>{d.startIndex+y;const T=(i==null?void 0:i.id)===h.id;return m.jsx("div",{className:`border-b border-gray-100 cursor-pointer transition-colors ${T?"bg-blue-50 hover:bg-blue-100":"hover:bg-gray-50"}`,style:{height:or},onClick:()=>g(h),children:m.jsxs("div",{className:"p-3",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900 mb-1 line-clamp-2",children:x(h)}),m.jsx("div",{className:"text-xs text-gray-500",children:w(h.time)}),h.user&&m.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["by ",h.user.username]})]})},h.id)})})})})]})]}),i&&m.jsxs("div",{className:"border-t border-gray-200 p-4 bg-blue-50",children:[m.jsx("div",{className:"text-sm font-medium text-blue-900 mb-1",children:"Viewing Historical State"}),m.jsx("div",{className:"text-xs text-blue-700",children:w(i.time)}),m.jsx("button",{onClick:()=>o(null),className:"mt-2 text-xs bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700 transition-colors",children:"Return to Current State"})]})]})]}):null},ky=()=>{const{projectId:e,documentId:t}=Fi(),[n,r]=v.useState([]),[s,o]=v.useState(!1),[i,a]=v.useState(null),[l,u]=v.useState(!1),{document:c,project:d,loading:f,error:g,setDocument:w,setError:x,refreshData:k}=yy(e,t),{auditEntries:p,historicalDocument:h,loadingAudit:y,loadingHistorical:T,error:j,fetchHistoricalDocument:P,clearHistoricalDocument:$}=wy(t),_=l?h:c,D=gy(_),R=vy(_),{handleAnnotationUpdate:W,handleFeatureDelete:fe,handleRelationCreate:Z,handleRelationUpdate:Pe,handleRelationDelete:ve}=xy(_,w,x,D,k),_e=()=>{o(!0)},Ae=()=>{o(!1)},E=async b=>{if(!b){a(null),u(!1),$();return}a(b),await P(b.time)&&u(!0)};return v.useEffect(()=>{r(R)},[R]),f||l&&T?m.jsx("div",{className:"text-center text-gray-600 py-8",children:T?"Loading historical document...":"Loading document..."}):_?n.length===0?m.jsx("div",{children:"No sentences found. Please ensure the document has been tokenized in the Text Editor."}):m.jsxs("div",{style:{margin:0,padding:0,width:"100%",minHeight:"100vh"},children:[m.jsxs("div",{style:{padding:"1rem 1.5rem"},children:[m.jsx(Id,{projectId:e,documentId:t,project:d,document:_}),m.jsxs("div",{className:"flex items-center justify-between mt-4",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:_e,className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"History"]}),l&&m.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-yellow-100 text-yellow-800 rounded-md border border-yellow-200",children:[m.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m.jsx("span",{className:"text-sm font-medium",children:"Viewing Historical State"}),m.jsx("span",{className:"text-xs",children:i&&new Date(i.time).toLocaleString()})]})]}),l&&m.jsx("button",{onClick:()=>E(null),className:"px-3 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Return to Current"})]})]}),(g||j)&&m.jsxs("div",{style:{color:"red",marginBottom:"1rem",padding:"0 1.5rem"},children:[g&&m.jsx("div",{children:g}),j&&m.jsx("div",{children:j})]}),n.map((b,C)=>{const B=n.slice(0,C).reduce((U,H)=>U+H.tokens.length,0);return m.jsx(my,{sentenceData:b,onAnnotationUpdate:l?null:W,onFeatureDelete:l?null:fe,onRelationCreate:l?null:Z,onRelationUpdate:l?null:Pe,onRelationDelete:l?null:ve,sentenceIndex:C,totalTokensBefore:B,readOnly:l},b.id)}),m.jsx(Ty,{isOpen:s,onClose:Ae,auditEntries:p,loading:y,error:j,onSelectEntry:E,selectedEntry:i})]}):m.jsx("div",{children:"Document not found"})};function Sy(){return m.jsx(Vm,{children:m.jsx(ty,{children:m.jsxs(Tm,{children:[m.jsx(Tt,{path:"/login",element:m.jsx(sy,{})}),m.jsxs(Tt,{path:"/",element:m.jsx(ry,{children:m.jsx(ny,{})}),children:[m.jsx(Tt,{index:!0,element:m.jsx(Fa,{to:"/projects",replace:!0})}),m.jsx(Tt,{path:"projects",element:m.jsx(ay,{})}),m.jsx(Tt,{path:"projects/:projectId/documents",element:m.jsx(ly,{})}),m.jsx(Tt,{path:"projects/:projectId/documents/:documentId/edit",element:m.jsx(cy,{})}),m.jsx(Tt,{path:"projects/:projectId/documents/:documentId/annotate",element:m.jsx(ky,{})})]}),m.jsx(Tt,{path:"*",element:m.jsx(Fa,{to:"/login",replace:!0})})]})})})}Ed(document.getElementById("root")).render(m.jsx(v.StrictMode,{children:m.jsx(Sy,{})}))});export default Ey();
